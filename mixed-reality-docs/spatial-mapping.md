---
title: Räumliche Zuordnung
description: Die räumliche Zuordnung bietet eine ausführliche Darstellung realer Oberflächen in der Umgebung um die hololens.
author: mattzmsft
ms.author: mazeller
ms.date: 03/21/2018
ms.topic: article
keywords: räumliche Zuordnung, hololens, gemischte Realität, Oberflächenrekonstruktion, Mesh
ms.openlocfilehash: 2988056b5caf50a4428d39c725bfe5432867a9c0
ms.sourcegitcommit: 6bc6757b9b273a63f260f1716c944603dfa51151
ms.translationtype: MT
ms.contentlocale: de-DE
ms.lasthandoff: 11/01/2019
ms.locfileid: "73437457"
---
# <a name="spatial-mapping"></a><span data-ttu-id="bba45-104">Räumliche Zuordnung</span><span class="sxs-lookup"><span data-stu-id="bba45-104">Spatial mapping</span></span>

<span data-ttu-id="bba45-105">Die räumliche Zuordnung bietet eine detaillierte Darstellung der realen Oberflächen in der Umgebung in Bezug auf die hololens, sodass Entwickler eine überzeugende gemischte Realität schaffen können.</span><span class="sxs-lookup"><span data-stu-id="bba45-105">Spatial mapping provides a detailed representation of real-world surfaces in the environment around the HoloLens, allowing developers to create a convincing mixed reality experience.</span></span> <span data-ttu-id="bba45-106">Durch die Zusammenführung der realen Welt mit der virtuellen Welt kann eine Anwendung dazu führen, dass Hologramme in der Praxis erscheinen.</span><span class="sxs-lookup"><span data-stu-id="bba45-106">By merging the real world with the virtual world, an application can make holograms seem real.</span></span> <span data-ttu-id="bba45-107">Anwendungen können auch mit den Erwartungen von Benutzern vertraut werden, indem Sie vertraute reale Verhaltensweisen und Interaktionen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-107">Applications can also more naturally align with user expectations by providing familiar real-world behaviors and interactions.</span></span>

<br>

>[!VIDEO https://www.youtube.com/embed/zff2aQ1RaVo]

## <a name="device-support"></a><span data-ttu-id="bba45-108">Geräteunterstützung</span><span class="sxs-lookup"><span data-stu-id="bba45-108">Device support</span></span>

<table>
    <colgroup>
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    <col width="25%" />
    </colgroup>
    <tr>
        <td><span data-ttu-id="bba45-109"><strong>Feature</strong></span><span class="sxs-lookup"><span data-stu-id="bba45-109"><strong>Feature</strong></span></span></td>
        <td><span data-ttu-id="bba45-110"><a href="hololens-hardware-details.md"><strong>HoloLens (1. Generation)</strong></a></span><span class="sxs-lookup"><span data-stu-id="bba45-110"><a href="hololens-hardware-details.md"><strong>HoloLens (1st gen)</strong></a></span></span></td>
        <td><span data-ttu-id="bba45-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span><span class="sxs-lookup"><span data-stu-id="bba45-111"><a href="https://docs.microsoft.com/hololens/hololens2-hardware"><strong>HoloLens 2</strong></span></span></td>
        <td><span data-ttu-id="bba45-112"><a href="immersive-headset-hardware-details.md"><strong>Immersive Headsets</strong></a></span><span class="sxs-lookup"><span data-stu-id="bba45-112"><a href="immersive-headset-hardware-details.md"><strong>Immersive headsets</strong></a></span></span></td>
    </tr>
     <tr>
        <td><span data-ttu-id="bba45-113">Räumliche Zuordnung</span><span class="sxs-lookup"><span data-stu-id="bba45-113">Spatial mapping</span></span></td>
        <td><span data-ttu-id="bba45-114">✔️</span><span class="sxs-lookup"><span data-stu-id="bba45-114">✔️</span></span></td>
        <td><span data-ttu-id="bba45-115">✔️</span><span class="sxs-lookup"><span data-stu-id="bba45-115">✔️</span></span></td>
        <td>❌</td>
    </tr>
</table>


## <a name="why-is-spatial-mapping-important"></a><span data-ttu-id="bba45-116">Warum ist die räumliche Zuordnung wichtig?</span><span class="sxs-lookup"><span data-stu-id="bba45-116">Why is spatial mapping important?</span></span>

<span data-ttu-id="bba45-117">Räumliche Zuordnung macht es möglich, Objekte auf realen Oberflächen zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-117">Spatial mapping makes it possible to place objects on real surfaces.</span></span> <span data-ttu-id="bba45-118">Dies hilft bei der Verankerung von Objekten in der Benutzer Welt und nutzt die Vorteile der tatsächlichen tiefen Hinweise. Das Verwahren von holograms auf der Grundlage von anderen holograms und realen Objekten hilft dem Benutzer zu überzeugen, dass sich diese Hologramme tatsächlich in Ihrem Bereich befinden.</span><span class="sxs-lookup"><span data-stu-id="bba45-118">This helps anchor objects in the user's world and takes advantage of real world depth cues. Occluding your holograms based on other holograms and real world objects helps convince the user that these holograms are actually in their space.</span></span> <span data-ttu-id="bba45-119">Hologramme, die leer sind oder sich mit dem Benutzer bewegen, werden nicht als Real angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bba45-119">Holograms floating in space or moving with the user will not feel as real.</span></span> <span data-ttu-id="bba45-120">Platzieren Sie Elemente nach Möglichkeit aus Gründen der Bequemlichkeit.</span><span class="sxs-lookup"><span data-stu-id="bba45-120">When possible, place items for comfort.</span></span>

<span data-ttu-id="bba45-121">Visualisieren von Oberflächen beim platzieren oder Verschieben von holograms (Verwenden eines einfachen projizierten Rasters).</span><span class="sxs-lookup"><span data-stu-id="bba45-121">Visualize surfaces when placing or moving holograms (use a simple projected grid).</span></span> <span data-ttu-id="bba45-122">Dadurch kann der Benutzer wissen, wo er seine Hologramme am besten platzieren kann. der Benutzer wird angezeigt, wenn die Stelle, an der er das – Hologramm platzieren möchte, noch nicht zugeordnet wurde.</span><span class="sxs-lookup"><span data-stu-id="bba45-122">This will help the user know where they can best place their holograms, and shows the user if the spot they are trying to place the hologram hasn't been mapped yet.</span></span> <span data-ttu-id="bba45-123">Sie können für den Benutzer "Billboard Items" hinzufügen, wenn er zu viel Winkel hat.</span><span class="sxs-lookup"><span data-stu-id="bba45-123">You can "billboard items" toward the user if they end up at too much of an angle.</span></span>

## <a name="conceptual-overview"></a><span data-ttu-id="bba45-124">Konzeptionelle Übersicht</span><span class="sxs-lookup"><span data-stu-id="bba45-124">Conceptual overview</span></span>

<span data-ttu-id="bba45-125">![Gitter Flächen, die einen Raum abdecken](images/SurfaceReconstruction.jpg)</span><span class="sxs-lookup"><span data-stu-id="bba45-125">![Mesh surfaces covering a room](images/SurfaceReconstruction.jpg)</span></span><br>
<span data-ttu-id="bba45-126">*Ein Beispiel für eine räumliche Zuordnung, die einen Raum abdeckt*</span><span class="sxs-lookup"><span data-stu-id="bba45-126">*An example of a spatial mapping mesh covering a room*</span></span>

<span data-ttu-id="bba45-127">Die beiden primären Objekttypen, die für die räumliche Zuordnung verwendet werden, sind der räumliche Oberflächen Beobachter und die räumliche Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="bba45-127">The two primary object types used for spatial mapping are the 'Spatial Surface Observer' and the 'Spatial Surface'.</span></span>

<span data-ttu-id="bba45-128">Die Anwendung stellt einem oder mehreren umgebenden Volumes die räumliche Oberfläche bereit, um die Bereiche zu definieren, in denen die Anwendung räumliche Mapping-Daten empfangen möchte.</span><span class="sxs-lookup"><span data-stu-id="bba45-128">The application provides the Spatial Surface Observer with one or more bounding volumes, to define the regions of space in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="bba45-129">Für jedes dieser Volumes stellt die räumliche Zuordnung der Anwendung einen Satz räumlicher Oberflächen zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="bba45-129">For each of these volumes, spatial mapping will provide the application with a set of Spatial Surfaces.</span></span>

<span data-ttu-id="bba45-130">Diese Volumes sind möglicherweise stationär (an einem bestimmten Speicherort in Bezug auf die reale Umgebung), oder Sie sind möglicherweise an die hololens angefügt (Sie verschieben, aber nicht drehen, während Sie durch die Umgebung bewegt werden).</span><span class="sxs-lookup"><span data-stu-id="bba45-130">These volumes may be stationary (in a fixed location with respect to the real world) or they may be attached to the HoloLens (they move, but do not rotate, with the HoloLens as it moves through the environment).</span></span> <span data-ttu-id="bba45-131">Jede räumliche Oberfläche beschreibt reale Oberflächen auf einer kleinen Menge von Speicherplatz, dargestellt als Dreiecks Gitter, das einem weltweit gesperrten [räumlichen Koordinatensystem](coordinate-systems.md)zugeordnet ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-131">Each spatial surface describes real-world surfaces in a small volume of space, represented as a triangle mesh attached to a world-locked [spatial coordinate system](coordinate-systems.md).</span></span>

<span data-ttu-id="bba45-132">Da hololens neue Daten über die Umgebung sammelt und Änderungen an der Umgebung auftreten, werden räumliche Oberflächen angezeigt, verschwinden und ändern.</span><span class="sxs-lookup"><span data-stu-id="bba45-132">As the HoloLens gathers new data about the environment, and as changes to the environment occur, spatial surfaces will appear, disappear and change.</span></span>

## <a name="spatial-mapping-vs-scene-undesranding-worldmesh"></a><span data-ttu-id="bba45-133">Räumliche Zuordnung im Vergleich zu Szenen, die das worldmesh deinstaleren</span><span class="sxs-lookup"><span data-stu-id="bba45-133">Spatial Mapping vs. Scene Undesranding WorldMesh</span></span>
<span data-ttu-id="bba45-134">Bei hololens 2 ist es möglich, eine statische Version der räumlichen Mapping-Daten mithilfe der [Scene Understanding SDK](scene-understanding-SDK.md) (enableworldmesh-Einstellung) abzufragen.</span><span class="sxs-lookup"><span data-stu-id="bba45-134">For HoloLens 2, it is possible to query a static version of the spatial mapping data using [Scene understanding SDK](scene-understanding-SDK.md) (EnableWorldMesh setting).</span></span> <span data-ttu-id="bba45-135">Im folgenden finden Sie die Unterschiede zwischen zwei Möglichkeiten, auf die räumlichen Zuordnungsdaten zuzugreifen:</span><span class="sxs-lookup"><span data-stu-id="bba45-135">Here are the differences between two way of accessing the spatial mapping data:</span></span>
* <span data-ttu-id="bba45-136">Räumliche Mapping-API:</span><span class="sxs-lookup"><span data-stu-id="bba45-136">Spatial Mapping API:</span></span>
   * <span data-ttu-id="bba45-137">Begrenzter Bereich: die räumlichen Daten, die für Anwendungen in einer begrenzten Größe, die für den Benutzer zwischengespeichert ist, verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-137">Limited range: the spatial mapping data available to applications in a limited size cached 'bubble' around the user.</span></span>
   * <span data-ttu-id="bba45-138">Ermöglicht das Aktualisieren von geänderten Netzbereichen durch Ereignisse mit geringer Latenzzeit über Ereignisse, die über ein Ereignis verfügen.</span><span class="sxs-lookup"><span data-stu-id="bba45-138">Provides low latency updates of changed mesh regions through SurfacesChanged events.</span></span>
   * <span data-ttu-id="bba45-139">Variable Ebene von Details, die von Dreiecken pro Kubikmeter Parameter gesteuert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-139">Variable level of details controlled by Triangles Per Cubic Meter parameter.</span></span>
* <span data-ttu-id="bba45-140">Nicht aufstehendes SDK der Szene:</span><span class="sxs-lookup"><span data-stu-id="bba45-140">Scene undestanding SDK:</span></span>
   * <span data-ttu-id="bba45-141">Unbegrenzter Bereich: stellt alle überprüften räumlichen Mapping-Daten im Abfrage RADIUS bereit.</span><span class="sxs-lookup"><span data-stu-id="bba45-141">Unlimited range - provides all the scanned spatial mapping data within the query radius.</span></span>
   * <span data-ttu-id="bba45-142">Stellt eine statische Momentaufnahme der räumlichen Mapping-Daten bereit.</span><span class="sxs-lookup"><span data-stu-id="bba45-142">Provides a static snapshot of the spatial mapping data.</span></span> <span data-ttu-id="bba45-143">Um die aktualisierten räumlichen Zuordnungsdaten zu erhalten, muss eine neue Abfrage für das gesamte Mesh ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-143">Getting the updated spatial mapping data requires running a new query for the whole mesh.</span></span>
   * <span data-ttu-id="bba45-144">Konsistente Detailebene, die von der requestedmeshlevelofdetail-Einstellung gesteuert wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-144">Consistent level of details controlled by RequestedMeshLevelOfDetail setting.</span></span>

## <a name="what-influences-spatial-mapping-quality"></a><span data-ttu-id="bba45-145">Was beeinflusst die Qualität der räumlichen Zuordnung?</span><span class="sxs-lookup"><span data-stu-id="bba45-145">What influences spatial mapping quality?</span></span>

<span data-ttu-id="bba45-146">Mehrere [hier](environment-considerations-for-hololens.md)ausführliche Faktoren können die Häufigkeit und den Schweregrad dieser Fehler beeinflussen.</span><span class="sxs-lookup"><span data-stu-id="bba45-146">Several factors, detailed [here](environment-considerations-for-hololens.md), can affect the frequency and severity of these errors.</span></span>  <span data-ttu-id="bba45-147">Allerdings sollten Sie Ihre Anwendung so entwerfen, dass der Benutzer auch bei Fehlern in den räumlichen Daten der Zuordnung seine Ziele erreichen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-147">However, you should design your application so that the user is able to achieve their goals even in the presence of errors in the spatial mapping data.</span></span>

## <a name="common-usage-scenarios"></a><span data-ttu-id="bba45-148">Allgemeine Verwendungsszenarios</span><span class="sxs-lookup"><span data-stu-id="bba45-148">Common usage scenarios</span></span>

![Abbildungen allgemeiner Verwendungs Szenarien für räumliche Zuordnung: Platzierung, oksion, Physik und Navigation](images/sm-concepts-1000px.png)

### <a name="placement"></a><span data-ttu-id="bba45-150">Platzierung</span><span class="sxs-lookup"><span data-stu-id="bba45-150">Placement</span></span>

<span data-ttu-id="bba45-151">Die räumliche Zuordnung bietet Anwendungen die Möglichkeit, dem Benutzer natürliche und vertraute Formen der Interaktion darzustellen. Was könnte natürlicher sein, als wenn Sie Ihr Telefon auf den Schreibtisch bringen?</span><span class="sxs-lookup"><span data-stu-id="bba45-151">Spatial mapping provides applications with the opportunity to present natural and familiar forms of interaction to the user; what could be more natural than placing your phone down on the desk?</span></span>

<span data-ttu-id="bba45-152">Durch die Beschränkung der Platzierung von holograms (oder allgemeiner, einer beliebigen Auswahl räumlicher Standorte) auf Oberflächen wird eine natürliche Zuordnung von 3D (Punkt in Raum) zu 2D (Punkt auf der Oberfläche) bereitstellt.</span><span class="sxs-lookup"><span data-stu-id="bba45-152">Constraining the placement of holograms (or more generally, any selection of spatial locations) to lie on surfaces provides a natural mapping from 3D (point in space) to 2D (point on surface).</span></span> <span data-ttu-id="bba45-153">Dadurch wird die Menge der Informationen verringert, die der Benutzer für die Anwendung bereitstellen muss, sodass die Interaktionen des Benutzers schneller, einfacher und präziser werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-153">This reduces the amount of information the user needs to provide to the application and thus makes the user's interactions faster, easier and more precise.</span></span> <span data-ttu-id="bba45-154">Dies trifft vor allem dann zu, wenn es sich bei "Distance Away" nicht um eine physische Kommunikation mit anderen Personen oder Computern handelt.</span><span class="sxs-lookup"><span data-stu-id="bba45-154">This is particularly true because 'distance away' is not something that we are used to physically communicating to other people or to computers.</span></span> <span data-ttu-id="bba45-155">Wenn wir mit unserem Finger zeigen, geben wir eine Richtung, aber keinen Abstand an.</span><span class="sxs-lookup"><span data-stu-id="bba45-155">When we point with our finger, we are specifying a direction but not a distance.</span></span>

<span data-ttu-id="bba45-156">Ein wichtiger Nachteil hierbei ist Folgendes: Wenn eine Anwendung eine Entfernung von der Richtung ableitet (z. b. durch Ausführen eines Raycasts entlang der Betrachtung des Benutzers, um die nächstgelegene räumliche Oberfläche zu finden), muss dies Ergebnisse liefern, die der Benutzer zuverlässig vorhersagen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-156">An important caveat here is that when an application infers distance from direction (for example by performing a raycast along the user's gaze direction to find the nearest spatial surface), this must yield results that the user is able to reliably predict.</span></span> <span data-ttu-id="bba45-157">Andernfalls verliert der Benutzer das Steuerelement, und dies kann schnell frustrierend werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-157">Otherwise, the user will lose their sense of control and this can quickly become frustrating.</span></span> <span data-ttu-id="bba45-158">Eine Methode, die dies unterstützt, ist die Ausführung mehrerer Raycasts anstelle von nur einer.</span><span class="sxs-lookup"><span data-stu-id="bba45-158">One method that helps with this is to perform multiple raycasts instead of just one.</span></span> <span data-ttu-id="bba45-159">Die Aggregat Ergebnisse sollten glatter und besser vorhersagbar und weniger anfällig für den Einfluss vorübergehender "ausreißender" Ergebnisse sein (Dies kann durch Strahlen verursacht werden, die durch kleine Löcher laufen oder kleine Bits von Geometrie erreichen, denen der Benutzer nicht bewusst ist).</span><span class="sxs-lookup"><span data-stu-id="bba45-159">The aggregate results should be smoother and more predictable, less susceptible to influence from transient 'outlier' results (as can be caused by rays passing through tiny holes or hitting small bits of geometry that the user is not aware of).</span></span> <span data-ttu-id="bba45-160">Aggregationen oder Glättung können auch im Laufe der Zeit ausgeführt werden. Beispielsweise können Sie die maximale Geschwindigkeit begrenzen, mit der ein – Hologramm vom Benutzer in der Entfernung variieren kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-160">Aggregation or smoothing can also be performed over time; for example you can limit the maximum speed at which a hologram can vary in distance from the user.</span></span> <span data-ttu-id="bba45-161">Die Beschränkung des minimalen und maximalen Entfernungs Werts kann auch hilfreich sein, sodass das verschobene – Hologramm nicht plötzlich in den Weg geht oder zurück stürzt.</span><span class="sxs-lookup"><span data-stu-id="bba45-161">Simply limiting the minimum and maximum distance value can also help, so the hologram being moved does not suddenly fly away into the distance or come crashing back into the user's face.</span></span>

<span data-ttu-id="bba45-162">Anwendungen können auch die Form und die Richtung der Oberflächen verwenden, um die Platzierung von holograms zu steuern.</span><span class="sxs-lookup"><span data-stu-id="bba45-162">Applications can also use the shape and direction of surfaces to guide hologram placement.</span></span> <span data-ttu-id="bba45-163">Ein holografischer Stuhl sollte nicht durch Wände dringen und auch dann mit dem Boden leeren, wenn er etwas ungleich ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-163">A holographic chair should not penetrate through walls and should sit flush with the floor even if it is slightly uneven.</span></span> <span data-ttu-id="bba45-164">Diese Art von Funktionalität basiert wahrscheinlich auf der Verwendung von Physik-Kollisionen anstelle von "Raycasts", aber es treten ähnliche Bedenken auf.</span><span class="sxs-lookup"><span data-stu-id="bba45-164">This kind of functionality would likely rely upon the use of physics collisions rather than just raycasts, however similar concerns will apply.</span></span> <span data-ttu-id="bba45-165">Wenn das zu platzierende – Hologramm viele kleine Polygone aufweist, die sich wie die Beine auf einem Stuhl befinden, kann es sinnvoll sein, die Physik Darstellung dieser Polygone auf etwas breiteres und glatteres zu erweitern, sodass Sie mehr über räumliche Flächen ohne Wikihosting.</span><span class="sxs-lookup"><span data-stu-id="bba45-165">If the hologram being placed has many small polygons that stick out, like the legs on a chair, it may make sense to expand the physics representation of those polygons to something wider and smoother so that they are more able to slide over spatial surfaces without snagging.</span></span>

<span data-ttu-id="bba45-166">Im äußersten Fall kann die Benutzereingabe vollständig vereinfacht werden, und räumliche Oberflächen können verwendet werden, um eine vollständige automatische – Hologramm-Platzierung auszuführen.</span><span class="sxs-lookup"><span data-stu-id="bba45-166">At its extreme, user input can be simplified away entirely and spatial surfaces can be used to perform entirely automatic hologram placement.</span></span> <span data-ttu-id="bba45-167">Beispielsweise könnte die Anwendung einen Holographic Light-Switch irgendwo auf der Wand platzieren, auf die der Benutzer klicken kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-167">For example, the application could place a holographic light-switch somewhere on the wall for the user to press.</span></span> <span data-ttu-id="bba45-168">Der gleiche Nachteil bei der Vorhersagbarkeit gilt hier doppelt. Wenn der Benutzer die Kontrolle über die – Hologramm-Platzierung erwartet, die Anwendung jedoch nicht immer holograms platziert, wo Sie erwartet werden (wenn der helle Switch irgendwo angezeigt wird, dass der Benutzer nicht erreichbar ist), ist dies ein frustrierender Vorgang.</span><span class="sxs-lookup"><span data-stu-id="bba45-168">The same caveat about predictability applies doubly here; if the user expects control over hologram placement, but the application does not always place holograms where they expect (if the light-switch appears somewhere that the user cannot reach), then this will be a frustrating experience.</span></span> <span data-ttu-id="bba45-169">Es kann sogar schlimmer sein, eine automatische Platzierung auszuführen, bei der die Benutzer Korrektur einiger Zeit erforderlich ist. Da eine erfolgreiche automatische Platzierung *erwartet*wird, ist die manuelle Korrektur eine Belastung.</span><span class="sxs-lookup"><span data-stu-id="bba45-169">It can actually be worse to perform automatic placement that requires user correction some of the time, than to just require the user to always perform placement themselves; because successful automatic placement is *expected*, manual correction feels like a burden!</span></span>

<span data-ttu-id="bba45-170">Beachten Sie außerdem, dass die Fähigkeit einer Anwendung, räumliche Oberflächen für die Platzierung zu verwenden, stark vom [Scan](spatial-mapping.md#the-environment-scanning-experience)Vorgang der Anwendung abhängt.</span><span class="sxs-lookup"><span data-stu-id="bba45-170">Note also that the ability of an application to use spatial surfaces for placement depends heavily on the application's [scanning experience](spatial-mapping.md#the-environment-scanning-experience).</span></span> <span data-ttu-id="bba45-171">Wenn eine Oberfläche nicht gescannt wurde, kann Sie nicht für die Platzierung verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-171">If a surface has not been scanned, then it cannot be used for placement.</span></span> <span data-ttu-id="bba45-172">Es ist für die Anwendung von der Anwendung, dies für den Benutzer klar zu machen, damit Sie entweder neue Oberflächen Scannen oder einen neuen Speicherort auswählen können.</span><span class="sxs-lookup"><span data-stu-id="bba45-172">It is up to the application to make this clear to the user, so that they can either help scan new surfaces or select a new location.</span></span>

<span data-ttu-id="bba45-173">Das visuelle Feedback an den Benutzer ist bei der Platzierung von größter Wichtigkeit.</span><span class="sxs-lookup"><span data-stu-id="bba45-173">Visual feedback to the user is of paramount importance during placement.</span></span> <span data-ttu-id="bba45-174">Der Benutzer muss wissen, wo sich das – Hologramm in Bezug auf die nächstgelegene Oberfläche mit [Erden Effekten](spatial-mapping.md#visualization)befindet.</span><span class="sxs-lookup"><span data-stu-id="bba45-174">The user needs to know where the hologram is in relation to the nearest surface with [grounding effects](spatial-mapping.md#visualization).</span></span> <span data-ttu-id="bba45-175">Sie sollten verstehen, warum die Verschiebung ihres holograms eingeschränkt wird (z. b. aufgrund eines Konflikts mit einer anderen nahe gelegenen Oberfläche).</span><span class="sxs-lookup"><span data-stu-id="bba45-175">They should understand why the movement of their hologram is being constrained (for example, due to collision with another nearby surface).</span></span> <span data-ttu-id="bba45-176">Wenn Sie am aktuellen Speicherort kein – Hologramm platzieren können, sollte das visuelle Feedback den Grund dafür verdeutlichen, warum dies nicht der Fall ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-176">If they cannot place a hologram in the current location, then visual feedback should make it clear why not.</span></span> <span data-ttu-id="bba45-177">Wenn der Benutzer z. b. versucht, eine Holographic-Couch in der Wand zu platzieren, sollte sich die Teile der Couch, die sich hinter der Wand befinden, in einer wütenden Farbe durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="bba45-177">For example, if the user is trying to place a holographic couch stuck half-way into the wall, then the portions of the couch that are behind the wall should pulsate in an angry color.</span></span> <span data-ttu-id="bba45-178">Wenn die Anwendung dagegen keine räumliche Oberfläche an einem Speicherort findet, an dem der Benutzer eine reale Oberfläche sehen kann, sollte die Anwendung dies klar machen.</span><span class="sxs-lookup"><span data-stu-id="bba45-178">Or conversely, if the application cannot find a spatial surface in a location where the user can see a real-world surface, then the application should make this clear.</span></span> <span data-ttu-id="bba45-179">Das offensichtliche Fehlen eines Erden Effekts in diesem Bereich kann diesen Zweck erfüllen.</span><span class="sxs-lookup"><span data-stu-id="bba45-179">The obvious absence of a grounding effect in this area may achieve this purpose.</span></span>

### <a name="occlusion"></a><span data-ttu-id="bba45-180">Okklusion</span><span class="sxs-lookup"><span data-stu-id="bba45-180">Occlusion</span></span>

<span data-ttu-id="bba45-181">Eine der Haupt Verwendungsmöglichkeiten räumlicher Mapping-Oberflächen besteht darin, die holograms einfach zu okzieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-181">One of the primary uses of spatial mapping surfaces is simply to occlude holograms.</span></span> <span data-ttu-id="bba45-182">Dieses einfache Verhalten hat eine große Auswirkung auf die wahrgenommene Bedeutung von holograms und hilft dabei, einen viskoen Sinn zu schaffen, der tatsächlich denselben physischen Raum wie der Benutzer hat.</span><span class="sxs-lookup"><span data-stu-id="bba45-182">This simple behavior has a huge impact on the perceived realism of holograms, helping to create a visceral sense that really inhabit the same physical space as the user.</span></span>

<span data-ttu-id="bba45-183">Die Okklusion stellt dem Benutzer auch Informationen zur Verfügung. Wenn ein – Hologramm von einer realen Oberfläche verdeckt wird, bietet dies ein zusätzliches visuelles Feedback zum räumlichen Speicherort dieses holograms weltweit.</span><span class="sxs-lookup"><span data-stu-id="bba45-183">Occlusion also provides information to the user; when a hologram appears to be occluded by a real-world surface, this provides additional visual feedback as to the spatial location of that hologram in the world.</span></span> <span data-ttu-id="bba45-184">Umgekehrt kann die Okklusion auch Informationen vom Benutzer *Einblenden* . durch das Durchlaufen von holograms hinter den Wänden kann der visuelle Cluster auf intuitive Weise reduziert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-184">Conversely, occlusion can also usefully *hide* information from the user; occluding holograms behind walls can reduce visual clutter in an intuitive way.</span></span> <span data-ttu-id="bba45-185">Um ein Hologram auszublenden oder anzuzeigen, muss der Benutzer lediglich seine Kopfzeile verschieben.</span><span class="sxs-lookup"><span data-stu-id="bba45-185">To hide or reveal a hologram, the user merely has to move their head.</span></span>

<span data-ttu-id="bba45-186">Die Okklusion kann auch verwendet werden, um die Erwartungen an eine natürliche Benutzeroberfläche basierend auf vertrauten physischen Interaktionen zu formulieren. Wenn ein – Hologramm durch eine Oberfläche verdeckt wird, liegt dies daran, dass diese Oberfläche solide ist, sodass der Benutzer erwarten kann, dass das – Hologramm *mit dieser* Oberfläche in Konflikt steht und nicht einfach durchlaufen wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-186">Occlusion can also be used to prime expectations for a natural user interface based upon familiar physical interactions; if a hologram is occluded by a surface it is because that surface is solid, so the user should expect that the hologram will *collide* with that surface and not simply pass through it.</span></span>

<span data-ttu-id="bba45-187">Manchmal ist eine Okklusion von holograms nicht erwünscht.</span><span class="sxs-lookup"><span data-stu-id="bba45-187">Sometimes, occlusion of holograms is undesirable.</span></span> <span data-ttu-id="bba45-188">Wenn ein Benutzer in der Lage sein muss, mit einem Hologram zu interagieren, muss er in der Lage sein, ihn zu sehen, auch wenn er sich hinter einer realen Oberfläche befindet.</span><span class="sxs-lookup"><span data-stu-id="bba45-188">If a user needs to be able to interact with a hologram, then they need to be able to see it - even if it is behind a real-world surface.</span></span> <span data-ttu-id="bba45-189">In solchen Fällen ist es in der Regel sinnvoll, ein solches Hologramm anders zu gestalten, wenn es ausgeblendet wird (z. b. durch verringern seiner Helligkeit).</span><span class="sxs-lookup"><span data-stu-id="bba45-189">In such cases, it usually makes sense to render such a hologram differently when it is occluded (for example, by reducing its brightness).</span></span> <span data-ttu-id="bba45-190">Auf diese Weise wird der Benutzer in der Lage sein, das Hologramm visuell zu finden, aber es ist immer noch bewusst, dass es sich hinter etwas befindet.</span><span class="sxs-lookup"><span data-stu-id="bba45-190">This way, the user will be able to visually locate the hologram, but they will still be aware that it is behind something.</span></span>

### <a name="physics"></a><span data-ttu-id="bba45-191">Mikro</span><span class="sxs-lookup"><span data-stu-id="bba45-191">Physics</span></span>

<span data-ttu-id="bba45-192">Die Verwendung der Physik Simulation ist eine andere Möglichkeit, mit der räumliche Zuordnung das *vorhanden* sein von holograms im physischen Raum des Benutzers zu verstärken.</span><span class="sxs-lookup"><span data-stu-id="bba45-192">The use of physics simulation is another way in which spatial mapping can be used to reinforce the *presence* of holograms in the user's physical space.</span></span> <span data-ttu-id="bba45-193">Wenn meine holografische Gummikugel aus meinem Schreibtisch abspringt, auf den Boden springt und unter dem Couch verschwindet, kann es schwierig sein, zu glauben, dass Sie nicht wirklich vorhanden ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-193">When my holographic rubber ball rolls realistically off my desk, bounces across the floor and disappears under the couch, it might be hard for me to believe that it's not really there.</span></span>

<span data-ttu-id="bba45-194">Die Physik-Simulation bietet auch eine Möglichkeit für eine Anwendung, natürliche und vertraute, auf der Physik basierende Interaktionen zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="bba45-194">Physics simulation also provides the opportunity for an application to use natural and familiar physics-based interactions.</span></span> <span data-ttu-id="bba45-195">Das Verschieben von Holographic-Möbeln auf der Bodenfläche ist für den Benutzer wahrscheinlich einfacher, wenn die Möbel so reagieren, als ob Sie im Boden mit der entsprechenden Trägheit und der Reibung bewegt werden würden.</span><span class="sxs-lookup"><span data-stu-id="bba45-195">Moving a piece of holographic furniture around on the floor will likely be easier for the user if the furniture responds as if it were sliding across the floor with the appropriate inertia and friction.</span></span>

<span data-ttu-id="bba45-196">Um realistisches physisches Verhalten zu generieren, müssen Sie wahrscheinlich einige [Gitter Verarbeitungs](spatial-mapping.md#mesh-processing) Vorgänge ausführen, wie z. b. das Füllen von Löchern, das Entfernen von Gleit Komma Zuordnungen und das Glätten von groben Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="bba45-196">In order to generate realistic physical behaviors, you will likely need to perform some [mesh processing](spatial-mapping.md#mesh-processing) such as filling holes, removing floating hallucinations and smoothing rough surfaces.</span></span>

<span data-ttu-id="bba45-197">Außerdem müssen Sie Bedenken, wie sich die [scannerart](spatial-mapping.md#the-environment-scanning-experience) Ihrer Anwendung auf die Physik Simulation auswirkt.</span><span class="sxs-lookup"><span data-stu-id="bba45-197">You will also need to consider how your application's [scanning experience](spatial-mapping.md#the-environment-scanning-experience) influences its physics simulation.</span></span> <span data-ttu-id="bba45-198">Erstens können fehlende Oberflächen nicht mit etwas kollidieren. Was geschieht, wenn der Gummi Ball in den Korridor und am Ende der bekannten Welt aufrollt?</span><span class="sxs-lookup"><span data-stu-id="bba45-198">Firstly, missing surfaces won't collide with anything; what happens when the rubber ball rolls off down the corridor and off the end of the known world?</span></span> <span data-ttu-id="bba45-199">Zweitens müssen Sie entscheiden, ob Sie im Laufe der Zeit weiterhin auf Änderungen in der Umgebung reagieren werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-199">Secondly, you need to decide whether you will continue to respond to changes in the environment over time.</span></span> <span data-ttu-id="bba45-200">In einigen Fällen möchten Sie so schnell wie möglich reagieren. nehmen wir beispielsweise an, wenn der Benutzer Türen und Möbel als bewegliche Barrikaden verwendet, um sich gegen eine Tempest eingehender römischer Pfeile zu verteidigen.</span><span class="sxs-lookup"><span data-stu-id="bba45-200">In some cases, you will want to respond as quickly as possible; say if the user is using doors and furniture as movable barricades in defense against a tempest of incoming Roman arrows.</span></span> <span data-ttu-id="bba45-201">In anderen Fällen möchten Sie jedoch möglicherweise neue Updates ignorieren. Es ist möglicherweise plötzlich nicht so unterhaltsam, dass Ihr Holographic Sport Car um die Rennstrecke im Boden unterwegs ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-201">In other cases though, you may want to ignore new updates; driving your holographic sports car around the racetrack on your floor may suddenly not be so fun if your dog decides to sit in the middle of the track.</span></span>

### <a name="navigation"></a><span data-ttu-id="bba45-202">Navigation</span><span class="sxs-lookup"><span data-stu-id="bba45-202">Navigation</span></span>

<span data-ttu-id="bba45-203">Anwendungen können räumliche Zuweisungs Daten verwenden, um holografischen Zeichen (oder Agents) die Möglichkeit zur Navigation in der realen Welt auf dieselbe Weise wie eine echte Person zu gewähren.</span><span class="sxs-lookup"><span data-stu-id="bba45-203">Applications can use spatial mapping data to grant holographic characters (or agents) the ability to navigate the real world in the same way a real person would.</span></span> <span data-ttu-id="bba45-204">Dies kann dazu beitragen, das vorhanden sein von Holographic-Zeichen zu verstärken, indem Sie auf denselben natürlichen, vertrauten Verhalten wie die des Benutzers und der Freunde beschränkt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-204">This can help reinforce the presence of holographic characters by restricting them to the same set of natural, familiar behaviors as those of the user and their friends.</span></span>

<span data-ttu-id="bba45-205">Navigationsfunktionen können auch für Benutzer nützlich sein.</span><span class="sxs-lookup"><span data-stu-id="bba45-205">Navigation capabilities could be useful to users as well.</span></span> <span data-ttu-id="bba45-206">Nachdem eine Navigations Zuordnung in einem bestimmten Bereich erstellt wurde, kann Sie freigegeben werden, um für neue Benutzer, die mit diesem Standort nicht vertraut sind, holografische Anleitungen bereitzustellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-206">Once a navigation map has been built in a given area, it could be shared to provide holographic directions for new users unfamiliar with that location.</span></span> <span data-ttu-id="bba45-207">Diese Karte könnte so entworfen werden, dass der Datenverkehr der Fußgänger reibungslos verläuft, oder es werden Fehler an gefährlichen Standorten wie bausites vermieden.</span><span class="sxs-lookup"><span data-stu-id="bba45-207">This map could be designed to help keep pedestrian 'traffic' flowing smoothly, or to avoid accidents in dangerous locations like construction sites.</span></span>

<span data-ttu-id="bba45-208">Die wichtigsten technischen Herausforderungen bei der Implementierung der Navigations Funktionalität sind die zuverlässige Erkennung von begewaybaren Oberflächen (Menschen werden nicht auf Tabellen hin) und die ordnungsgemäße Anpassung an die Änderungen in der Umgebung (Menschen werden nicht durch geschlossene Türen durchlaufen!).</span><span class="sxs-lookup"><span data-stu-id="bba45-208">The key technical challenges involved in implementing navigation functionality will be reliable detection of walkable surfaces (humans don't walk on tables!) and graceful adaptation to changes in the environment (humans don't walk through closed doors!).</span></span> <span data-ttu-id="bba45-209">Das Mesh erfordert möglicherweise einige [Verarbeitungs](spatial-mapping.md#mesh-processing) Vorgänge, bevor es für die Pfad Planung und die Navigation durch ein virtuelles Zeichen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-209">The mesh may require some [processing](spatial-mapping.md#mesh-processing) before it is usable for path-planning and navigation by a virtual character.</span></span> <span data-ttu-id="bba45-210">Das Glättung des Netzes und Entfernen von Zuordnungen kann dazu beitragen, dass Zeichen nicht mehr hängen.</span><span class="sxs-lookup"><span data-stu-id="bba45-210">Smoothing the mesh and removing hallucinations may help avoid characters becoming stuck.</span></span> <span data-ttu-id="bba45-211">Möglicherweise möchten Sie das Mesh auch drastisch vereinfachen, um die Pfad-und Navigations Berechnungen Ihres Zeichens zu beschleunigen.</span><span class="sxs-lookup"><span data-stu-id="bba45-211">You may also wish to drastically simplify the mesh in order to speed up your character's path-planning and navigation calculations.</span></span> <span data-ttu-id="bba45-212">Diese Herausforderungen haben bei der Entwicklung von Videogame-Technologie viel Aufmerksamkeit geschenkt, und es gibt eine Vielzahl von Forschungsliteratur zu diesen Themen.</span><span class="sxs-lookup"><span data-stu-id="bba45-212">These challenges have received a great deal of attention in the development of videogame technology, and there is a wealth of available research literature on these topics.</span></span>

<span data-ttu-id="bba45-213">Beachten Sie, dass die integrierte navmesh-Funktionalität in Unity nicht mit räumlichen zuordnungsoberflächen verwendet werden kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-213">Note that the built-in NavMesh functionality in Unity cannot be used with spatial mapping surfaces.</span></span> <span data-ttu-id="bba45-214">Dies liegt daran, dass räumliche Zustellungs Oberflächen erst bekannt sind, wenn die Anwendung gestartet wird, wohingegen navmesh-Datendateien vorab aus quellassets generiert werden müssen.</span><span class="sxs-lookup"><span data-stu-id="bba45-214">This is because spatial mapping surfaces are not known until the application starts, whereas NavMesh data files need to be generated from source assets ahead of time.</span></span> <span data-ttu-id="bba45-215">Beachten Sie auch, dass das räumliche Mapping-System keine [Informationen über Oberflächen](spatial-mapping.md#the-environment-scanning-experience) bereitstellt, die sich weit entfernt von der aktuellen Position des Benutzers befinden.</span><span class="sxs-lookup"><span data-stu-id="bba45-215">Also note that, the spatial mapping system will not provide [information about surfaces very far away](spatial-mapping.md#the-environment-scanning-experience) from the user's current location.</span></span> <span data-ttu-id="bba45-216">Daher muss die Anwendung "erinnern", wenn Sie eine Karte eines sehr großen Bereichs erstellen soll.</span><span class="sxs-lookup"><span data-stu-id="bba45-216">So the application must 'remember' surfaces itself if it is to build a map of a very large area.</span></span>

### <a name="visualization"></a><span data-ttu-id="bba45-217">Visualisierung</span><span class="sxs-lookup"><span data-stu-id="bba45-217">Visualization</span></span>

<span data-ttu-id="bba45-218">In den meisten Fällen ist es sinnvoll, räumliche Oberflächen unsichtbar zu machen. zum Minimieren des visuellen Clutters und zum sprechen der realen Welt.</span><span class="sxs-lookup"><span data-stu-id="bba45-218">Most of the time it is appropriate for spatial surfaces to be invisible; to minimize visual clutter and let the real world speak for itself.</span></span> <span data-ttu-id="bba45-219">Manchmal ist es jedoch sinnvoll, räumliche zuordnungsoberflächen direkt visuell darzustellen, trotz der Tatsache, dass ihre realen Gegenstücke bereits sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-219">However, sometimes it is useful to visualize spatial mapping surfaces directly, despite the fact that their real-world counterparts are already visible.</span></span>

<span data-ttu-id="bba45-220">Wenn der Benutzer z. b. versucht, ein Hologramm auf einer Oberfläche zu platzieren (z. b. eine holografische CAB-Datei), kann es hilfreich sein, das Hologramm zu "Durchsuchen", indem es einen Schatten auf die Oberfläche wirft.</span><span class="sxs-lookup"><span data-stu-id="bba45-220">For example, when the user is trying to place a hologram onto a surface (placing a holographic cabinet on the wall, say) it can be useful to 'ground' the hologram by casting a shadow onto the surface.</span></span> <span data-ttu-id="bba45-221">Dadurch erhält der Benutzer einen deutlich besseren Eindruck von der exakten physischen Nähe zwischen dem – Hologramm und der-Oberfläche.</span><span class="sxs-lookup"><span data-stu-id="bba45-221">This gives the user a much clearer sense of the exact physical proximity between the hologram and the surface.</span></span> <span data-ttu-id="bba45-222">Dies ist auch ein Beispiel für die allgemeinere Vorgehensweise bei einer visuellen Vorschau einer Änderung, bevor der Benutzer einen Commit dafür durchführt.</span><span class="sxs-lookup"><span data-stu-id="bba45-222">This is also an example of the more general practice of visually 'previewing' a change before the user commits to it.</span></span>

<span data-ttu-id="bba45-223">Durch die Visualisierung von Oberflächen kann die Anwendung für den Benutzer freigegeben werden, um die Umgebung zu verstehen.</span><span class="sxs-lookup"><span data-stu-id="bba45-223">By visualizing surfaces, the application can share with the user its understanding of the environment.</span></span> <span data-ttu-id="bba45-224">Beispielsweise könnte ein Holographic Board-Spiel die horizontalen Oberflächen visualisieren, die es als "Tables" identifiziert hat, sodass der Benutzer weiß, wo er interagieren soll.</span><span class="sxs-lookup"><span data-stu-id="bba45-224">For example, a holographic board game could visualize the horizontal surfaces that it has identified as 'tables', so the user knows where they should go to interact.</span></span>

<span data-ttu-id="bba45-225">Die Visualisierung von Oberflächen kann eine nützliche Möglichkeit darstellen, um den Benutzern nahe gelegene Bereiche anzuzeigen, die in der Ansicht ausgeblendet sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-225">Visualizing surfaces can be a useful way to show the user nearby spaces that are hidden from view.</span></span> <span data-ttu-id="bba45-226">Dies könnte eine einfache Möglichkeit bieten, dem Benutzer den Zugriff auf seine Küche (und alle darin enthaltenen Hologramme) aus dem Wohnraum zu ermöglichen.</span><span class="sxs-lookup"><span data-stu-id="bba45-226">This could provide a simple way to give the user access to their kitchen (and all of its contained holograms) from their living room.</span></span>

<span data-ttu-id="bba45-227">Die von der räumlichen Zuordnung bereitgestellten Oberflächen Netze sind möglicherweise nicht besonders "Clean".</span><span class="sxs-lookup"><span data-stu-id="bba45-227">The surface meshes provided by spatial mapping may not be particularly 'clean'.</span></span> <span data-ttu-id="bba45-228">Daher ist es wichtig, diese entsprechend visuell darzustellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-228">Thus it is important to visualize them appropriately.</span></span> <span data-ttu-id="bba45-229">Bei herkömmlichen Beleuchtungsberechnungen werden möglicherweise Fehler in Oberflächen normalen in visuell ablenkend hervorgehoben, während "saubere" Texturen, die auf die Oberfläche projiziert werden, dazu beitragen können, dass Sie eine mehrstufige Darstellung erhalten.</span><span class="sxs-lookup"><span data-stu-id="bba45-229">Traditional lighting calculations may highlight errors in surface normals in a visually distracting manner, whilst 'clean' textures projected onto the surface may help to give it a tidier appearance.</span></span> <span data-ttu-id="bba45-230">Es ist auch möglich, die Gitter [Verarbeitung](spatial-mapping.md#mesh-processing) durchzuführen, um Gitter Eigenschaften zu verbessern, bevor die Oberflächen gerendert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-230">It is also possible to perform [mesh processing](spatial-mapping.md#mesh-processing) to improve mesh properties, before the surfaces are rendered.</span></span>

> [!NOTE]
> <span data-ttu-id="bba45-231">Hololens 2 implementiert eine neue [Szene zum Verständnis der Laufzeit](scene-understanding.md), die Entwicklern gemischter Realität eine strukturierte, hochwertige Umgebungs Darstellung bietet, die zur Vereinfachung der Implementierung von Platzierung, Okklusion, Physik und Navigation konzipiert ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-231">HoloLens 2 implements a new [Scene Understanding Runtime](scene-understanding.md), that provides Mixed Reality developers with a structured, high-level environment representation designed to simplify the implementation of placement, occlusion, physics and navigation.</span></span>

## <a name="using-the-surface-observer"></a><span data-ttu-id="bba45-232">Verwenden des Oberflächen Beobachters</span><span class="sxs-lookup"><span data-stu-id="bba45-232">Using The Surface Observer</span></span>

<span data-ttu-id="bba45-233">Der Ausgangspunkt für räumliche Zuordnung ist der Oberflächen Beobachter.</span><span class="sxs-lookup"><span data-stu-id="bba45-233">The starting point for spatial mapping is the surface observer.</span></span> <span data-ttu-id="bba45-234">Der Programmablauf lautet wie folgt:</span><span class="sxs-lookup"><span data-stu-id="bba45-234">Program flow is as follows:</span></span>
* <span data-ttu-id="bba45-235">Erstellen eines Surface Observer-Objekts</span><span class="sxs-lookup"><span data-stu-id="bba45-235">Create a surface observer object</span></span>
   * <span data-ttu-id="bba45-236">Geben Sie ein oder mehrere räumliche Volumes an, um die relevanten Bereiche zu definieren, in denen die Anwendung räumliche Mapping-Daten empfangen möchte.</span><span class="sxs-lookup"><span data-stu-id="bba45-236">Provide one or more spatial volumes, to define the regions of interest in which the application wishes to receive spatial mapping data.</span></span> <span data-ttu-id="bba45-237">Ein räumliches Volume ist einfach eine Form, die einen Bereich des Raums definiert, z. b. eine Kugel oder ein Feld.</span><span class="sxs-lookup"><span data-stu-id="bba45-237">A spatial volume is simply a shape defining a region of space, such as a sphere or a box.</span></span>
   * <span data-ttu-id="bba45-238">Verwenden Sie ein räumliches Volume mit einem weltweit gesperrten räumlichen Koordinatensystem, um einen festgelegten Bereich der physischen Welt zu identifizieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-238">Use a spatial volume with a world-locked spatial coordinate system to identify a fixed region of the physical world.</span></span>
   * <span data-ttu-id="bba45-239">Verwenden Sie ein räumliches Volume, das jeden Frame mit einem vom Text gesperrten räumlichen Koordinatensystem aktualisiert hat, um einen Bereich des Bereichs zu identifizieren, der sich mit dem Benutzer verschiebt (aber nicht rotiert).</span><span class="sxs-lookup"><span data-stu-id="bba45-239">Use a spatial volume, updated each frame with a body-locked spatial coordinate system, to identify a region of space that moves (but does not rotate) with the user.</span></span>
   * <span data-ttu-id="bba45-240">Diese räumlichen Volumes können zu einem späteren Zeitpunkt geändert werden, wenn sich der Status der Anwendung oder des Benutzers ändert.</span><span class="sxs-lookup"><span data-stu-id="bba45-240">These spatial volumes may be changed later at any time, as the status of the application or the user changes.</span></span>
* <span data-ttu-id="bba45-241">Abrufen von Informationen über räumliche Oberflächen mithilfe von Abruf oder Benachrichtigung</span><span class="sxs-lookup"><span data-stu-id="bba45-241">Use polling or notification to retrieve information about spatial surfaces</span></span>
   * <span data-ttu-id="bba45-242">Sie können den Oberflächen Beobachter jederzeit für den Status der räumlichen Oberfläche abrufen.</span><span class="sxs-lookup"><span data-stu-id="bba45-242">You may 'poll' the surface observer for spatial surface status at any time.</span></span> <span data-ttu-id="bba45-243">Alternativ dazu können Sie sich für das Ereignis "Surface Changed" des Surface Observer registrieren, das die Anwendung benachrichtigt, wenn räumliche Oberflächen geändert wurden.</span><span class="sxs-lookup"><span data-stu-id="bba45-243">Alternatively, you may register for the surface observer's 'surfaces changed' event, which will notify the application when spatial surfaces have changed.</span></span>
   * <span data-ttu-id="bba45-244">Für ein dynamisches räumliches Volume, wie z. b. die Ansicht "Frustum" oder ein mit dem Text gesperrtes Volume, müssen Anwendungen für jeden Frame Änderungen abrufen, indem Sie den relevanten Bereich festlegen und dann den aktuellen Satz räumlicher Oberflächen abrufen.</span><span class="sxs-lookup"><span data-stu-id="bba45-244">For a dynamic spatial volume, such as the view frustum, or a body-locked volume, applications will need to poll for changes each frame by setting the region of interest and then obtaining the current set of spatial surfaces.</span></span>
   * <span data-ttu-id="bba45-245">Bei einem statischen Volume, z. b. einem weltweit gesperrten Cube, der einen einzelnen Raum abdeckt, können Anwendungen für das Ereignis "Oberflächen geändert" registriert werden, damit Sie benachrichtigt werden, wenn sich räumliche Oberflächen innerhalb dieses Volumes geändert haben.</span><span class="sxs-lookup"><span data-stu-id="bba45-245">For a static volume, such as a world-locked cube covering a single room, applications may register for the 'surfaces changed' event to be notified when spatial surfaces inside that volume may have changed.</span></span>
* <span data-ttu-id="bba45-246">Prozess Oberflächen Änderungen</span><span class="sxs-lookup"><span data-stu-id="bba45-246">Process surfaces changes</span></span>
   * <span data-ttu-id="bba45-247">Iterieren Sie den bereitgestellten Satz räumlicher Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="bba45-247">Iterate the provided set of spatial surfaces.</span></span>
   * <span data-ttu-id="bba45-248">Räumliche Oberflächen als hinzugefügt, geändert oder entfernt klassifizieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-248">Classify spatial surfaces as added, changed or removed.</span></span>
   * <span data-ttu-id="bba45-249">Senden Sie für jede hinzugefügte oder geänderte räumliche Oberfläche ggf. eine asynchrone Anforderung an den Empfang eines aktualisierten Netzes, das den aktuellen Zustand der Oberfläche auf der gewünschten Detailebene darstellt.</span><span class="sxs-lookup"><span data-stu-id="bba45-249">For each added or changed spatial surface, if appropriate submit an asynchronous request to receive updated mesh representing the surface's current state at the desired level of detail.</span></span>
* <span data-ttu-id="bba45-250">Verarbeiten Sie die asynchrone Mesh-Anforderung (Weitere Informationen finden Sie in den folgenden Abschnitten).</span><span class="sxs-lookup"><span data-stu-id="bba45-250">Process the asynchronous mesh request (more details in following sections).</span></span>

## <a name="mesh-caching"></a><span data-ttu-id="bba45-251">Gitter Caching</span><span class="sxs-lookup"><span data-stu-id="bba45-251">Mesh Caching</span></span>

<span data-ttu-id="bba45-252">Räumliche Oberflächen werden durch Dichte Dreiecksnetze dargestellt.</span><span class="sxs-lookup"><span data-stu-id="bba45-252">Spatial surfaces are represented by dense triangle meshes.</span></span> <span data-ttu-id="bba45-253">Die Speicherung, das Rendering und die Verarbeitung dieser Netze kann beträchtliche Rechen-und Speicherressourcen beanspruchen.</span><span class="sxs-lookup"><span data-stu-id="bba45-253">Storing, rendering and processing these meshes can consume significant computational and storage resources.</span></span> <span data-ttu-id="bba45-254">Daher sollte jede Anwendung ein Mesh-zwischen Speicherungs Schema übernehmen, das Ihren Anforderungen entspricht, um die Ressourcen zu minimieren, die für die Mesh-Verarbeitung und den Speicher verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-254">As such, each application should adopt a mesh caching scheme appropriate to its needs, in order to minimize the resources used for mesh processing and storage.</span></span> <span data-ttu-id="bba45-255">Mit diesem Schema soll bestimmt werden, welche Meshs beibehalten und welche verworfen werden sollen, sowie wann das Mesh für jede räumliche Oberfläche aktualisiert werden soll.</span><span class="sxs-lookup"><span data-stu-id="bba45-255">This scheme should determine which meshes to retain and which to discard, as well as when to update the mesh for each spatial surface.</span></span>

<span data-ttu-id="bba45-256">Viele der erörterten Überlegungen werden direkt darüber informiert, wie Ihre Anwendung das Mesh-Caching angehen sollte.</span><span class="sxs-lookup"><span data-stu-id="bba45-256">Many of the considerations discussed there will directly inform how your application should approach mesh caching.</span></span> <span data-ttu-id="bba45-257">Sie sollten berücksichtigen, wie der Benutzer die Umgebung durchläuft, welche Oberflächen benötigt werden, wenn verschiedene Oberflächen beobachtet werden und Änderungen in der Umgebung aufgezeichnet werden sollen.</span><span class="sxs-lookup"><span data-stu-id="bba45-257">You should consider how the user moves through the environment, which surfaces are needed, when different surfaces will be observed and when changes in the environment should be captured.</span></span>

<span data-ttu-id="bba45-258">Wenn das Ereignis "Surface Changed" interpretiert wird, ist die grundlegende Mesh-cachinglogik wie folgt:</span><span class="sxs-lookup"><span data-stu-id="bba45-258">When interpreting the 'surfaces changed' event provided by the surface observer, the basic mesh caching logic is as follows:</span></span>
* <span data-ttu-id="bba45-259">Wenn der Anwendung eine räumliche Oberflächen-ID angezeigt wird, die Sie noch nicht gesehen hat, sollte diese als neue räumliche Oberfläche behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-259">If the application sees a spatial surface ID that it has not seen before, it should treat this as a new spatial surface.</span></span>
* <span data-ttu-id="bba45-260">Wenn in der Anwendung eine räumliche Oberfläche mit einer bekannten ID, aber mit einer neuen Update Zeit angezeigt wird, sollte Sie als aktualisierte räumliche Oberfläche behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-260">If the application sees a spatial surface with a known ID but with a new update time, it should treat this as an updated spatial surface.</span></span>
* <span data-ttu-id="bba45-261">Wenn die Anwendung keine räumliche Oberfläche mit einer bekannten ID mehr sieht, sollte diese als entfernte räumliche Oberfläche behandelt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-261">If the application no longer sees a spatial surface with a known ID, it should treat this as a removed spatial surface.</span></span>

<span data-ttu-id="bba45-262">Die einzelnen Anwendungen können dann die folgenden Optionen auswählen:</span><span class="sxs-lookup"><span data-stu-id="bba45-262">It is up to each application to then make the following choices:</span></span>
* <span data-ttu-id="bba45-263">Soll für neue räumliche Oberflächen ein Mesh angefordert werden?</span><span class="sxs-lookup"><span data-stu-id="bba45-263">For new spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="bba45-264">Im Allgemeinen sollte Mesh sofort für neue räumliche Oberflächen angefordert werden, die nützliche neue Informationen für den Benutzer bereitstellen können.</span><span class="sxs-lookup"><span data-stu-id="bba45-264">Generally mesh should be requested immediately for new spatial surfaces, which may provide useful new information to the user.</span></span>
   * <span data-ttu-id="bba45-265">Neue räumliche Oberflächen in der Nähe und vor dem Benutzer sollten jedoch Priorität erhalten, und Ihr Mesh sollte zuerst angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-265">However, new spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="bba45-266">Wenn das neue Mesh nicht benötigt wird, wenn die Anwendung beispielsweise permanent oder vorübergehend das zugehörige Modell der Umgebung "eingefroren" hat, sollte Sie nicht angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-266">If the new mesh is not needed, if for example the application has permanently or temporarily 'frozen' its model of the environment, then it should not be requested.</span></span>
* <span data-ttu-id="bba45-267">Soll bei aktualisierten räumlichen Oberflächen Mesh angefordert werden?</span><span class="sxs-lookup"><span data-stu-id="bba45-267">For updated spatial surfaces, should mesh be requested?</span></span>
   * <span data-ttu-id="bba45-268">Aktualisierte räumliche Oberflächen in der Nähe und vor dem Benutzer sollten Priorität erhalten, und Ihr Mesh sollte zuerst angefordert werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-268">Updated spatial surfaces near and in front of the user should be given priority and their mesh should be requested first.</span></span>
   * <span data-ttu-id="bba45-269">Es kann auch sinnvoll sein, neuen Oberflächen höhere Priorität zuzuweisen als aktualisierte Oberflächen, insbesondere während des Scanvorgangs.</span><span class="sxs-lookup"><span data-stu-id="bba45-269">It may also be appropriate to give higher priority to new surfaces than to updated surfaces, especially during the scanning experience.</span></span>
   * <span data-ttu-id="bba45-270">Zum Begrenzen der Verarbeitungskosten möchten Anwendungen möglicherweise die Geschwindigkeit Drosseln, mit der die Aktualisierungen räumlicher Oberflächen verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-270">To limit processing costs, applications may wish to throttle the rate at which they process updates to spatial surfaces.</span></span>
   * <span data-ttu-id="bba45-271">Möglicherweise ist es möglich, zu ableiten, dass Änderungen an einer räumlichen Oberfläche geringfügig sind, z. b. wenn die Begrenzungen der Oberfläche gering sind. in diesem Fall ist das Update möglicherweise nicht wichtig genug, um es zu verarbeiten.</span><span class="sxs-lookup"><span data-stu-id="bba45-271">It may be possible to infer that changes to a spatial surface are minor, for example if the bounds of the surface are small, in which case the update may not be important enough to process.</span></span>
   * <span data-ttu-id="bba45-272">Updates für räumliche Oberflächen außerhalb der aktuellen Region des Benutzers werden möglicherweise vollständig ignoriert, aber in diesem Fall ist es möglicherweise effizienter, die räumlichen umgebenden Volumes zu ändern, die von der Oberfläche Observer verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-272">Updates to spatial surfaces outside the current region of interest of the user may be ignored entirely, though in this case it may be more efficient to modify the spatial bounding volumes in use by the surface observer.</span></span>
* <span data-ttu-id="bba45-273">Soll für entfernte räumliche Oberflächen das Mesh verworfen werden?</span><span class="sxs-lookup"><span data-stu-id="bba45-273">For removed spatial surfaces, should mesh be discarded?</span></span>
   * <span data-ttu-id="bba45-274">Das Mesh sollte in der Regel sofort für entfernte räumliche Oberflächen verworfen werden, sodass die – Hologramm-Okklusion korrekt ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-274">Generally mesh should be discarded immediately for removed spatial surfaces, so that hologram occlusion remains correct.</span></span>
   * <span data-ttu-id="bba45-275">Wenn die Anwendung jedoch davon ausgehen kann, dass eine räumliche Oberfläche bald wieder angezeigt wird (möglicherweise basierend auf dem Design der Benutzeroberfläche), ist es möglicherweise effizienter, Sie beizubehalten, als das Mesh zu verwerfen und Sie später erneut zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-275">However, if the application has reason to believe that a spatial surface will reappear shortly (perhaps based upon the design of the user experience), then it may be more efficient to retain it than to discard its mesh and recreate it again later.</span></span>
   * <span data-ttu-id="bba45-276">Wenn die Anwendung ein umfangreiches Modell der Benutzerumgebung aufbaut, ist es möglicherweise nicht wünschenswert, alle Netze zu verwerfen.</span><span class="sxs-lookup"><span data-stu-id="bba45-276">If the application is building a large-scale model of the user's environment then it may not wish to discard any meshes at all.</span></span> <span data-ttu-id="bba45-277">Dennoch muss die Ressourcenverwendung eingeschränkt werden, möglicherweise durch Spoolvorgänge auf den Datenträger, wenn räumliche Oberflächen ausgeblendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-277">It will still need to limit resource usage though, possibly by spooling meshes to disk as spatial surfaces disappear.</span></span>
   * <span data-ttu-id="bba45-278">Beachten Sie, dass einige relativ seltene Ereignisse während der Generierung räumlicher Oberflächen dazu führen können, dass räumliche Oberflächen durch neue räumliche Oberflächen an einem ähnlichen Ort, aber mit unterschiedlichen IDs ersetzt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-278">Note that some relatively rare events during spatial surface generation can cause spatial surfaces to be replaced by new spatial surfaces in a similar location but with different IDs.</span></span> <span data-ttu-id="bba45-279">Folglich sollten Anwendungen, die keine entfernte Oberfläche verwerfen, nicht mehr über mehrere überlappende räumliche Oberflächen Netze verfügen, die denselben Speicherort abdecken.</span><span class="sxs-lookup"><span data-stu-id="bba45-279">Consequently, applications that choose not to discard a removed surface should take care not to end up with multiple highly-overlapped spatial surface meshes covering the same location.</span></span>
* <span data-ttu-id="bba45-280">Sollte Mesh für alle anderen räumlichen Oberflächen verworfen werden?</span><span class="sxs-lookup"><span data-stu-id="bba45-280">Should mesh be discarded for any other spatial surfaces?</span></span>
   * <span data-ttu-id="bba45-281">Auch wenn eine räumliche Oberfläche vorhanden ist, sollte sie verworfen werden, wenn Sie für die Benutzeroberfläche nicht mehr nützlich ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-281">Even while a spatial surface exists, if it is no longer useful to the user's experience then it should be discarded.</span></span> <span data-ttu-id="bba45-282">Wenn die Anwendung z. b. den Raum auf der anderen Seite eines Torys mit einem alternativen virtuellen Raum ersetzt, sind die räumlichen Flächen in diesem Raum nicht mehr von Bedeutung.</span><span class="sxs-lookup"><span data-stu-id="bba45-282">For example, if the application 'replaces' the room on the other side of a doorway with an alternate virtual space then the spatial surfaces in that room no longer matter.</span></span>

<span data-ttu-id="bba45-283">Im folgenden finden Sie eine Beispiel Strategie für das Mesh-Caching, bei der räumliche und zeitliche Bindestriche verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="bba45-283">Here is an example mesh caching strategy, using spatial and temporal hysteresis:</span></span>
* <span data-ttu-id="bba45-284">Stellen Sie sich eine Anwendung vor, die eine Frustum-förmige räumliche Menge von Interesse verwenden möchte, die auf den Blick des Benutzers folgt, wenn Sie sich ansehen und durchlaufen.</span><span class="sxs-lookup"><span data-stu-id="bba45-284">Consider an application that wishes to use a frustum-shaped spatial volume of interest that follows the user's gaze as they look around and walk around.</span></span>
* <span data-ttu-id="bba45-285">Eine räumliche Oberfläche kann vorübergehend von diesem Volume verschwinden, da der Benutzer nicht mehr von der Oberfläche entfernt wird oder die Schritte von ihm entfernt werden... Es wird nur ein kurzer Blick angezeigt, oder es wird ein späterer Vorgang wiederholt.</span><span class="sxs-lookup"><span data-stu-id="bba45-285">A spatial surface may disappear temporarily from this volume simply because the user looks away from the surface or steps further away from it... only to look back or moves closer again a moment later.</span></span> <span data-ttu-id="bba45-286">In diesem Fall stellt das verwerfen und erneute Erstellen des Netzes für diese Oberfläche eine Menge redundanter Verarbeitung dar.</span><span class="sxs-lookup"><span data-stu-id="bba45-286">In this case, discarding and re-creating the mesh for this surface represents a lot of redundant processing.</span></span>
* <span data-ttu-id="bba45-287">Um die Anzahl der verarbeiteten Änderungen zu reduzieren, verwendet die Anwendung zwei räumliche Oberflächen Beobachter, eine in der anderen.</span><span class="sxs-lookup"><span data-stu-id="bba45-287">To reduce the number of changes processed, the application uses two spatial surface observers, one contained within the other.</span></span> <span data-ttu-id="bba45-288">Das größere Volume ist sphärisch und folgt dem Benutzer verzögert. Es wird nur dann verschoben, wenn dies notwendig ist, um sicherzustellen, dass das Zentrum innerhalb von 2,0 Metern des Benutzers liegt</span><span class="sxs-lookup"><span data-stu-id="bba45-288">The larger volume is spherical and follows the user 'lazily'; it only moves when necessary to ensure that its centre is within 2.0 metres of the user.</span></span>
* <span data-ttu-id="bba45-289">Neue und aktualisierte räumliche Oberflächen Netze werden immer aus dem kleineren inneren Oberflächen Beobachter verarbeitet, aber die Meshs werden zwischengespeichert, bis Sie auf dem größeren äußeren Oberflächen Beobachter verschwinden.</span><span class="sxs-lookup"><span data-stu-id="bba45-289">New and updated spatial surface meshes are always processed from the smaller inner surface observer, but meshes are cached until they disappear from the larger outer surface observer.</span></span> <span data-ttu-id="bba45-290">Dadurch kann die Anwendung vermeiden, dass viele redundante Änderungen aufgrund der lokalen Benutzer Bewegung verarbeitet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-290">This allows the application to avoid processing many redundant changes due to local user movement.</span></span>
* <span data-ttu-id="bba45-291">Da eine räumliche Oberfläche aufgrund von nach Verfolgungs Verlusten auch temporär verschwinden kann, wird die Anwendung beim Nachverfolgen des Verlusts auch zum verwerfen entfernter räumlicher Oberflächen eingestellt.</span><span class="sxs-lookup"><span data-stu-id="bba45-291">Since a spatial surface may also disappear temporarily due to tracking loss, the application also defers discarding removed spatial surfaces during tracking loss.</span></span>
* <span data-ttu-id="bba45-292">Im Allgemeinen sollte eine Anwendung den Kompromiss zwischen reduzierter Update Verarbeitung und erhöhter Speicherauslastung auswerten, um die ideale zwischen Speicherungs Strategie zu ermitteln.</span><span class="sxs-lookup"><span data-stu-id="bba45-292">In general, an application should evaluate the tradeoff between reduced update processing and increased memory usage to determine its ideal caching strategy.</span></span>

## <a name="rendering"></a><span data-ttu-id="bba45-293">Rendering</span><span class="sxs-lookup"><span data-stu-id="bba45-293">Rendering</span></span>

<span data-ttu-id="bba45-294">Es gibt drei Hauptmethoden, mit denen die Netzen für räumliche zuordnet häufig zum Rendern verwendet werden:</span><span class="sxs-lookup"><span data-stu-id="bba45-294">There are three primary ways in which spatial mapping meshes tend to be used for rendering:</span></span>
* <span data-ttu-id="bba45-295">Zur Oberflächen Visualisierung</span><span class="sxs-lookup"><span data-stu-id="bba45-295">For surface visualization</span></span>
   * <span data-ttu-id="bba45-296">Es ist häufig nützlich, räumliche Oberflächen direkt visuell darzustellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-296">It is often useful to visualize spatial surfaces directly.</span></span> <span data-ttu-id="bba45-297">Wenn Sie z. b. "Shadows" aus Objekten in räumliche Oberflächen umwandeln, kann der Benutzer nützliches visuelles Feedback bereitstellen, während Sie Hologramme auf Oberflächen platzieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-297">For example, casting 'shadows' from objects onto spatial surfaces can provide helpful visual feedback to the user while they are placing holograms on surfaces.</span></span>
   * <span data-ttu-id="bba45-298">Beachten Sie, dass räumliche Netze sich von der Art der Netzen unterscheiden, die von einem 3D-Künstler erstellt werden könnten.</span><span class="sxs-lookup"><span data-stu-id="bba45-298">One thing to bear in mind is that spatial meshes are different to the kind of meshes that a 3D artist might create.</span></span> <span data-ttu-id="bba45-299">Die Dreiecks Topologie wird nicht als "Clean"-Topologie verwendet, und das Mesh wird von [verschiedenen Fehlern](spatial-mapping.md#what-influences-spatial-mapping-quality)beeinträchtigt.</span><span class="sxs-lookup"><span data-stu-id="bba45-299">The triangle topology will not be as 'clean' as human-created topology, and the mesh will suffer from [various errors](spatial-mapping.md#what-influences-spatial-mapping-quality).</span></span>
   * <span data-ttu-id="bba45-300">Um eine ansprechende visuelle Ästhetik zu erstellen, können Sie daher eine gewisse [Gitter Verarbeitung](spatial-mapping.md#mesh-processing)durchführen, z. b. zum Auffüllen von Lücken oder zur Glättung von Oberflächen Normalisierungen.</span><span class="sxs-lookup"><span data-stu-id="bba45-300">In order to create a pleasing visual aesthetic, you may thus want to perform some [mesh processing](spatial-mapping.md#mesh-processing), for example to fill holes or smooth surface normals.</span></span> <span data-ttu-id="bba45-301">Möglicherweise möchten Sie auch einen Shader verwenden, um auf dem Mesh entwickelte Texturen zu projizieren, anstatt die Mesh-Topologie und normale direkt zu visualisieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-301">You may also wish to use a shader to project artist-designed textures onto your mesh instead of directly visualizing mesh topology and normals.</span></span>
* <span data-ttu-id="bba45-302">Zum okdieren von holograms hinter realen Oberflächen</span><span class="sxs-lookup"><span data-stu-id="bba45-302">For occluding holograms behind real-world surfaces</span></span>
   * <span data-ttu-id="bba45-303">Räumliche Oberflächen können in einem tiefen Durchlauf gerendert werden, der sich nur auf den [tiefen Puffer](https://msdn.microsoft.com/library/windows/desktop/bb219616(v=vs.85).aspx) auswirkt und sich nicht auf Farb Renderziele auswirkt.</span><span class="sxs-lookup"><span data-stu-id="bba45-303">Spatial surfaces can be rendered in a depth-only pass which only affects the [depth buffer](https://msdn.microsoft.com/library/windows/desktop/bb219616(v=vs.85).aspx) and does not affect color render targets.</span></span>
   * <span data-ttu-id="bba45-304">Dadurch wird der tiefen Puffer zum okdieren von nachfolgend gerenderten holograms hinter räumlichen Oberflächen primes.</span><span class="sxs-lookup"><span data-stu-id="bba45-304">This primes the depth buffer to occlude subsequently-rendered holograms behind spatial surfaces.</span></span> <span data-ttu-id="bba45-305">Die genaue okgrams-okgramme verbessern den Sinn, dass holograms tatsächlich im physischen Raum des Benutzers vorhanden sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-305">Accurate occlusion of holograms enhances the sense that holograms really exist within the user's physical space.</span></span>
   * <span data-ttu-id="bba45-306">Um das tiefe Rendering zu aktivieren, aktualisieren Sie den Blend-Status, um [rendertargetwrite temask für alle farbrenderziele](https://msdn.microsoft.com/library/windows/desktop/hh404492(v=vs.85).aspx) auf NULL festzulegen.</span><span class="sxs-lookup"><span data-stu-id="bba45-306">To enable depth-only rendering, update your blend state to set the [RenderTargetWriteMask](https://msdn.microsoft.com/library/windows/desktop/hh404492(v=vs.85).aspx) to zero for all color render targets.</span></span>
* <span data-ttu-id="bba45-307">So ändern Sie die Darstellung von holograms, die von realen Oberflächen verdeckt werden</span><span class="sxs-lookup"><span data-stu-id="bba45-307">For modifying the appearance of holograms occluded by real-world surfaces</span></span>
   * <span data-ttu-id="bba45-308">Normalerweise wird die gerenderte Geometrie ausgeblendet, wenn Sie verdeckt wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-308">Normally rendered geometry is hidden when it is occluded.</span></span> <span data-ttu-id="bba45-309">Dies wird erreicht, indem die tiefen Funktion in Ihrem [Status der tiefen Schablone](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx) auf "kleiner als oder gleich" festgelegt wird, wodurch die Geometrie nur dann sichtbar ist, wenn Sie sich **näher** an der Kamera befindet als alle zuvor gerenderten Geometrie.</span><span class="sxs-lookup"><span data-stu-id="bba45-309">This is achieved by setting the depth function in your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx) to "less than or equal", which causes geometry to be visible only where it is **closer** to the camera than all previously rendered geometry.</span></span>
   * <span data-ttu-id="bba45-310">Es kann jedoch hilfreich sein, bestimmte Geometrie sichtbar zu machen, auch wenn Sie verdeckt ist, und die Darstellung zu ändern, wenn Sie als Möglichkeit zum Bereitstellen von visuellem Feedback für den Benutzer bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-310">However, it may be useful to keep certain geometry visible even when it is occluded, and to modify its appearance when occluded as a way of providing visual feedback to the user.</span></span> <span data-ttu-id="bba45-311">So kann die Anwendung z. b. den Speicherort eines Objekts anzeigen, während klar ist, dass sich hinter einer realen Oberfläche befindet.</span><span class="sxs-lookup"><span data-stu-id="bba45-311">For example, this allows the application to show the user the location of an object whilst making it clear that is behind a real-world surface.</span></span>
   * <span data-ttu-id="bba45-312">Um dies zu erreichen, müssen Sie die Geometrie ein zweites Mal mit einem anderen Shader Rendering, der die gewünschte Darstellung "okded" erstellt.</span><span class="sxs-lookup"><span data-stu-id="bba45-312">To achieve this, render the geometry a second time with a different shader that creates the desired 'occluded' appearance.</span></span> <span data-ttu-id="bba45-313">Bevor Sie die Geometrie zum zweiten Mal rendern, nehmen Sie zwei Änderungen an Ihrem [tiefen Schablonen Zustand](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx)vor.</span><span class="sxs-lookup"><span data-stu-id="bba45-313">Before rendering the geometry for the second time, make two changes to your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span></span> <span data-ttu-id="bba45-314">Legen Sie zunächst die tiefen Funktion auf "größer als oder gleich" fest, damit die Geometrie nur dann sichtbar ist, wenn Sie sich von der Kamera **weiter** entfernt als alle zuvor gerenderten Geometrie.</span><span class="sxs-lookup"><span data-stu-id="bba45-314">First, set the depth function to "greater than or equal" so that the geometry will be visible only where it is **further** from the camera than all previously rendered geometry.</span></span> <span data-ttu-id="bba45-315">Legen Sie für depthwrite den Wert 0 (null) fest, damit der tiefen Puffer nicht geändert wird (der tiefen Puffer sollte weiterhin die Tiefe der Geometrie darstellen, die der Kamera **am nächsten** ist).</span><span class="sxs-lookup"><span data-stu-id="bba45-315">Second, set the DepthWriteMask to zero, so that the depth buffer will not be modified (the depth buffer should continue to represent the depth of the geometry **closest** to the camera).</span></span>

<span data-ttu-id="bba45-316">Die [Leistung](understanding-performance-for-mixed-reality.md) ist ein wichtiger Aspekt beim Rendern von Netzen für räumliche Zuordnung.</span><span class="sxs-lookup"><span data-stu-id="bba45-316">[Performance](understanding-performance-for-mixed-reality.md) is an important concern when rendering spatial mapping meshes.</span></span> <span data-ttu-id="bba45-317">Hier finden Sie einige renderingleistungstechniken, die speziell für das Rendern räumlicher Mapping-</span><span class="sxs-lookup"><span data-stu-id="bba45-317">Here are some rendering performance techniques specific to rendering spatial mapping meshes:</span></span>
* <span data-ttu-id="bba45-318">Dreiecks Dichte anpassen</span><span class="sxs-lookup"><span data-stu-id="bba45-318">Adjust triangle density</span></span>
   * <span data-ttu-id="bba45-319">Wenn Sie räumliche Oberflächen-Netzen von Ihrem Oberflächen Beobachter anfordern, fordern Sie die niedrigste Dichte von Dreiecksnetzen an, die Ihren Anforderungen genügt.</span><span class="sxs-lookup"><span data-stu-id="bba45-319">When requesting spatial surface meshes from your surface observer, request the lowest density of triangle meshes that will suffice for your needs.</span></span>
   * <span data-ttu-id="bba45-320">Abhängig von der Entfernung der Oberfläche vom Benutzer und seiner Relevanz für die Benutzeroberfläche ist es möglicherweise sinnvoll, die Dreiecks Dichte auf einer Oberfläche zu verändern.</span><span class="sxs-lookup"><span data-stu-id="bba45-320">It may make sense to vary triangle density on a surface by surface basis, depending on the surface's distance from the user, and its relevance to the user experience.</span></span>
   * <span data-ttu-id="bba45-321">Durch das Verringern der Anzahl von Dreiecke werden die Speicherauslastung und die Vertex-Verarbeitungskosten auf der GPU reduziert, obwohl Sie sich nicht auf die Pixel Verarbeitungskosten auswirken</span><span class="sxs-lookup"><span data-stu-id="bba45-321">Reducing triangle counts will reduce memory usage and vertex processing costs on the GPU, though it will not affect pixel processing costs.</span></span>
* <span data-ttu-id="bba45-322">Ausführen von Frustum-Berechnungen</span><span class="sxs-lookup"><span data-stu-id="bba45-322">Perform frustum culling</span></span>
   * <span data-ttu-id="bba45-323">Die Frustum-Erstellung überspringt Zeichnungsobjekte, die nicht angezeigt werden können, weil Sie sich außerhalb der aktuellen Anzeige "Frustum" befinden.</span><span class="sxs-lookup"><span data-stu-id="bba45-323">Frustum culling skips drawing objects that cannot be seen because they are outside the current display frustum.</span></span> <span data-ttu-id="bba45-324">Dadurch werden CPU-und GPU-Verarbeitungskosten reduziert.</span><span class="sxs-lookup"><span data-stu-id="bba45-324">This reduces both CPU and GPU processing costs.</span></span>
   * <span data-ttu-id="bba45-325">Da die Erstellung pro Mesh durchgeführt wird und räumliche Oberflächen sehr groß sein können, kann das unterbrechen jedes räumlichen Oberflächen Netzes in kleinere Blöcke zu einer effizienteren Leistung führen (da weniger Offscreen-Dreiecke gerendert werden).</span><span class="sxs-lookup"><span data-stu-id="bba45-325">Since culling is performed on a per-mesh basis and spatial surfaces can be large, breaking each spatial surface mesh into smaller chunks may result in more efficient culling (in that fewer offscreen triangles are rendered).</span></span> <span data-ttu-id="bba45-326">Es gibt jedoch einen Kompromiss, welche weiteren Netzen Sie haben, desto mehr zeichnen-Aufrufe müssen Sie durchführen, was die CPU-Kosten erhöhen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-326">There is a tradeoff, however; the more meshes you have, the more draw calls you must make, which can increase CPU costs.</span></span> <span data-ttu-id="bba45-327">In einem Extremfall könnte die Frustum-cullinger-Berechnungen selbst über messbare CPU-Kosten verfügen.</span><span class="sxs-lookup"><span data-stu-id="bba45-327">In an extreme case, the frustum culling calculations themselves could even have a measurable CPU cost.</span></span>
* <span data-ttu-id="bba45-328">Rendering-Reihenfolge anpassen</span><span class="sxs-lookup"><span data-stu-id="bba45-328">Adjust rendering order</span></span>
   * <span data-ttu-id="bba45-329">Räumliche Oberflächen sind tendenziell groß, da Sie die gesamte Umgebung des Benutzers darstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-329">Spatial surfaces tend to be large, because they represent the user's entire environment surrounding them.</span></span> <span data-ttu-id="bba45-330">Die Pixel Verarbeitungskosten für die GPU können daher hoch sein, insbesondere in Fällen, in denen mehr als eine Ebene der sichtbaren Geometrie vorhanden ist (einschließlich räumlicher Oberflächen und anderer Hologramme).</span><span class="sxs-lookup"><span data-stu-id="bba45-330">Pixel processing costs on the GPU can thus be high, especially in cases where there is more than one layer of visible geometry (including both spatial surfaces and other holograms).</span></span> <span data-ttu-id="bba45-331">In diesem Fall verbleibt die Ebene, die dem Benutzer am nächsten ist, alle Ebenen weiter, sodass alle GPU-Zeit, die für das Rendering dieser entfernteren Schichten aufgewendet wird, verschwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-331">In this case, the layer nearest to the user will be occluding any layers further away, so any GPU time spent rendering those more distant layers is wasted.</span></span>
   * <span data-ttu-id="bba45-332">Um diese redundante Arbeit auf der GPU zu reduzieren, ist es hilfreich, nicht transparente Oberflächen in der Reihenfolge vor und nach hinten zu Rendering (Näheres zuerst, entfernter entfernter).</span><span class="sxs-lookup"><span data-stu-id="bba45-332">To reduce this redundant work on the GPU, it helps to render opaque surfaces in front-to-back order (closer ones first, more distant ones last).</span></span> <span data-ttu-id="bba45-333">Durch ' deckend ' bedeuten wir die Oberflächen, für die ' depthwrite temask ' in Ihrem [tiefen Schablonen Zustand](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx)auf einen Wert festgelegt ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-333">By 'opaque' we mean surfaces for which the DepthWriteMask is set to one in your [depth-stencil state](https://msdn.microsoft.com/library/windows/desktop/ff476110(v=vs.85).aspx).</span></span> <span data-ttu-id="bba45-334">Wenn die nächstliegenden Oberflächen gerendert werden, wird der tiefen Puffer als primwert verwendet, sodass mehr entfernte Oberflächen vom Pixel Prozessor auf der GPU effizient übersprungen werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-334">When the nearest surfaces are rendered, they will prime the depth buffer so that more distant surfaces are efficiently skipped by the pixel processor on the GPU.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="bba45-335">Mesh-Verarbeitung</span><span class="sxs-lookup"><span data-stu-id="bba45-335">Mesh Processing</span></span>

<span data-ttu-id="bba45-336">Eine Anwendung möchte möglicherweise [verschiedene Vorgänge](spatial-mapping.md#mesh-processing) für räumliche Oberflächen Netze durchführen, um Ihren Anforderungen gerecht zu werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-336">An application may want to perform [various operations](spatial-mapping.md#mesh-processing) on spatial surface meshes to suit its needs.</span></span> <span data-ttu-id="bba45-337">Der Index und die Scheitelpunkt Daten, die für jedes räumliche Oberflächen Mesh bereitgestellt werden, verwenden dasselbe vertraute Layout wie der [Scheitelpunkt und die Index Puffer](https://msdn.microsoft.com/library/windows/desktop/bb147325%28v=vs.85%29.aspx) , die zum Rendern von Dreiecksnetzen in allen modernen renderingapis verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-337">The index and vertex data provided with each spatial surface mesh uses the same familiar layout as the [vertex and index buffers](https://msdn.microsoft.com/library/windows/desktop/bb147325%28v=vs.85%29.aspx) that are used for rendering triangle meshes in all modern rendering APIs.</span></span> <span data-ttu-id="bba45-338">Ein wichtiger Fakt ist jedoch, dass räumliche Zuordnungs Dreiecke eine Sortier **Reihenfolge vor dem Uhrzeigersinn**haben.</span><span class="sxs-lookup"><span data-stu-id="bba45-338">However, one key fact to be aware of is that spatial mapping triangles have a **front-clockwise winding order**.</span></span> <span data-ttu-id="bba45-339">Jedes Dreieck wird durch drei Scheitelpunkt Indizes im Index Puffer des Netzes dargestellt, und diese Indizes identifizieren die Scheitel Punkte des Dreiecks in einer Reihenfolge im **Uhrzeigersinn** , wenn das Dreieck von der **Vorder** Seite aus angezeigt wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-339">Each triangle is represented by three vertex indices in the mesh's index buffer and these indices will identify the triangle's vertices in a **clockwise** order, when the triangle is viewed from the **front** side.</span></span> <span data-ttu-id="bba45-340">Die Vorderseite (oder außen) der räumlichen Oberflächen Netze entspricht wie erwartet der Vorderseite (Sichtbarkeit) der realen Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="bba45-340">The front side (or outside) of spatial surface meshes corresponds as you would expect to the front (visible) side of real world surfaces.</span></span>

<span data-ttu-id="bba45-341">Anwendungen sollten nur Mesh-Vereinfachungen durchführen, wenn die vom Oberflächen Beobachter bereitgestellte Größe des coarst-Dreiecks nach wie vor unzureichend grob ist. diese Aufgabe ist Rechen intensiv und wird von der Laufzeit bereits ausgeführt, um die verschiedenen bereitgestellte Detailebenen.</span><span class="sxs-lookup"><span data-stu-id="bba45-341">Applications should only perform mesh simplification if the coarsest triangle density provided by the surface observer is still insufficiently coarse - this work is computationally expensive and already being performed by the runtime to generate the various provided levels of detail.</span></span>

<span data-ttu-id="bba45-342">Da jeder Oberflächen Beobachter mehrere nicht verbundene räumliche Oberflächen bereitstellen kann, möchten einige Anwendungen diese räumlichen Oberflächen Netze möglicherweise gegenseitig Ausschneiden und diese dann zusammen Schnallen.</span><span class="sxs-lookup"><span data-stu-id="bba45-342">Because each surface observer can provide multiple unconnected spatial surfaces, some applications may wish to clip these spatial surface meshes against each other, then zipper them together.</span></span> <span data-ttu-id="bba45-343">Im Allgemeinen ist der clippingschritt erforderlich, da sich nahe gelegene Netze der räumlichen Oberfläche oft leicht überlappen.</span><span class="sxs-lookup"><span data-stu-id="bba45-343">In general, the clipping step is required, as nearby spatial surface meshes often overlap slightly.</span></span>

## <a name="raycasting-and-collision"></a><span data-ttu-id="bba45-344">Raycasting und Kollision</span><span class="sxs-lookup"><span data-stu-id="bba45-344">Raycasting and Collision</span></span>

<span data-ttu-id="bba45-345">Damit eine-Physik-API (z. b. [Havok](https://www.havok.com/)) eine Anwendung mit Raycasting-und Kollisions Funktionen für räumliche Oberflächen bereitstellt, muss die Anwendung räumliche Oberflächen Netze für die Physik-API bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-345">In order for a physics API (such as [Havok](https://www.havok.com/)) to provide an application with raycasting and collision functionality for spatial surfaces, the application must provide spatial surface meshes to the physics API.</span></span> <span data-ttu-id="bba45-346">Für die Physik verwendete Meshes verfügen häufig über die folgenden Eigenschaften:</span><span class="sxs-lookup"><span data-stu-id="bba45-346">Meshes used for physics often have the following properties:</span></span>
* <span data-ttu-id="bba45-347">Sie enthalten nur eine kleine Anzahl von Dreiecken.</span><span class="sxs-lookup"><span data-stu-id="bba45-347">They contain only small numbers of triangles.</span></span> <span data-ttu-id="bba45-348">Physik Vorgänge sind Rechen intensiver als Renderingvorgänge.</span><span class="sxs-lookup"><span data-stu-id="bba45-348">Physics operations are more computationally intensive than rendering operations.</span></span>
* <span data-ttu-id="bba45-349">Sie sind "Wasser-eng".</span><span class="sxs-lookup"><span data-stu-id="bba45-349">They are 'water-tight'.</span></span> <span data-ttu-id="bba45-350">Oberflächen, die als solide fest gedacht sind, sollten keine kleinen Lücken enthalten. sogar Lücken zu klein, um sichtbar zu sein, können Probleme verursachen.</span><span class="sxs-lookup"><span data-stu-id="bba45-350">Surfaces intended to be solid should not have small holes in them; even holes too small to be visible can cause problems.</span></span>
* <span data-ttu-id="bba45-351">Sie werden in die in die-Konstante umwandl konvertiert.</span><span class="sxs-lookup"><span data-stu-id="bba45-351">They are converted into convex hulls.</span></span> <span data-ttu-id="bba45-352">Bei der Verarbeitung von Netz-und Konfigurationsobjekten sind nur wenige Polygone vorhanden, und die Verarbeitung ist weitaus Rechen effizienter als bei rohdreiecks Netzen.</span><span class="sxs-lookup"><span data-stu-id="bba45-352">Convex hulls have few polygons and are free of holes, and they are much more computationally efficient to process than raw triangle meshes.</span></span>

<span data-ttu-id="bba45-353">Beachten Sie bei der Durchführung von Raycasts gegen räumliche Oberflächen, dass diese Oberflächen oft komplex sind und über große Formen mit wenig Details verfügen, ebenso wie Ihr Schreibtisch!</span><span class="sxs-lookup"><span data-stu-id="bba45-353">When performing raycasts against spatial surfaces, bear in mind that these surfaces are often complex, cluttered shapes full of messy little details - just like your desk!</span></span> <span data-ttu-id="bba45-354">Dies bedeutet, dass ein einzelner raycast oft unzureichend genug ist, um Ihnen genügend Informationen über die Form der Oberfläche und die Form des leeren Leerraums in der Nähe zu übergeben.</span><span class="sxs-lookup"><span data-stu-id="bba45-354">This means that a single raycast is often insufficient to give you enough information about the shape of the surface and the shape of the empty space near it.</span></span> <span data-ttu-id="bba45-355">Daher empfiehlt es sich in der Regel, viele Raycasts in einem kleinen Bereich auszuführen und die Aggregat Ergebnisse zu verwenden, um ein zuverlässigeres Verständnis der Oberfläche zu erhalten.</span><span class="sxs-lookup"><span data-stu-id="bba45-355">It is thus usually a good idea to perform many raycasts within a small area and to use the aggregate results to derive a more reliable understanding of the surface.</span></span> <span data-ttu-id="bba45-356">Wenn Sie z. b. den Mittelwert von 10 Raycasts zum Steuern der – Hologramm-Platzierung auf einer Oberfläche verwenden, ergibt sich ein weitaus reibungsloseres Ergebnis, bei dem nur ein einziges raycast verwendet wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-356">For example, using the average of 10 raycasts to guide hologram placement on a surface will yield a far smoother and less 'jittery' result that using just a single raycast.</span></span>

<span data-ttu-id="bba45-357">Bedenken Sie jedoch, dass jeder raycast hohe Rechen Kosten aufweisen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-357">However, bear in mind that each raycast can have a high computational cost.</span></span> <span data-ttu-id="bba45-358">Abhängig von Ihrem Verwendungs Szenario sollten Sie daher die berechnungskosten zusätzlicher Raycasts (durch die jeder Frame ausgeführt wird) gegen die berechnungskosten der [Mesh-Verarbeitung](spatial-mapping.md#mesh-processing) abwägen, um Löcher in räumlichen Oberflächen zu glätten und zu entfernen (bei räumlichem Netzen werden aktualisiert.)</span><span class="sxs-lookup"><span data-stu-id="bba45-358">Thus depending on your usage scenario you should trade off the computational cost of additional raycasts (performed every frame) against the computational cost of [mesh processing](spatial-mapping.md#mesh-processing) to smooth and remove holes in spatial surfaces (performed when spatial meshes are updated).</span></span>

## <a name="the-environment-scanning-experience"></a><span data-ttu-id="bba45-359">Umgebung zum Scannen der Umgebung</span><span class="sxs-lookup"><span data-stu-id="bba45-359">The environment scanning experience</span></span>

<span data-ttu-id="bba45-360">Jede Anwendung, die räumliche Zuordnung verwendet, sollte die Bereitstellung einer "Scan Darstellung" in Erwägung gezogen werden. der Prozess, durch den die Anwendung den Benutzer zum Überprüfen von Oberflächen führt, die für eine ordnungsgemäße Funktionsweise der Anwendung erforderlich sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-360">Each application that uses spatial mapping should consider providing a 'scanning experience'; the process through which the application guides the user to scan surfaces that are necessary for the application to function correctly.</span></span>

<span data-ttu-id="bba45-361">![Beispiel für das Scannen](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span><span class="sxs-lookup"><span data-stu-id="bba45-361">![Example of scanning](images/sr-mixedworld-140429-8pm-00068-1000px.png)</span></span><br>
<span data-ttu-id="bba45-362">*Beispiel für das Scannen*</span><span class="sxs-lookup"><span data-stu-id="bba45-362">*Example of scanning*</span></span>

<span data-ttu-id="bba45-363">Die Art dieser Scanfunktion kann sich je nach Anforderungen der Anwendung stark unterscheiden, aber zwei Hauptprinzipien sollten den Entwurf berücksichtigen.</span><span class="sxs-lookup"><span data-stu-id="bba45-363">The nature of this scanning experience can vary greatly depending upon each application's needs, but two main principles should guide its design.</span></span>

<span data-ttu-id="bba45-364">Erstens **ist die klare Kommunikation mit dem Benutzer das primäre Problem**.</span><span class="sxs-lookup"><span data-stu-id="bba45-364">Firstly, **clear communication with the user is the primary concern**.</span></span> <span data-ttu-id="bba45-365">Der Benutzer sollte immer wissen, ob die Anforderungen der Anwendung erfüllt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-365">The user should always be aware of whether the application's requirements are being met.</span></span> <span data-ttu-id="bba45-366">Wenn Sie nicht erfüllt werden, sollten Sie dem Benutzer sofort klar sein, warum dies der Fall ist, und Sie sollten schnell dazu führen, dass Sie die entsprechende Aktion ausführen.</span><span class="sxs-lookup"><span data-stu-id="bba45-366">When they are not being met, it should be immediately clear to the user why this is so and they should be quickly led to take the appropriate action.</span></span>

<span data-ttu-id="bba45-367">Zweitens **sollten Anwendungen versuchen, ein Gleichgewicht zwischen Effizienz und Zuverlässigkeit zu erzielen**.</span><span class="sxs-lookup"><span data-stu-id="bba45-367">Secondly, **applications should attempt to strike a balance between efficiency and reliability**.</span></span> <span data-ttu-id="bba45-368">Wenn **dies möglich ist, sollten**Anwendungen räumliche Daten automatisch analysieren, um die Benutzer Zeit zu sparen.</span><span class="sxs-lookup"><span data-stu-id="bba45-368">When it is possible to do so **reliably**, applications should automatically analyze spatial mapping data to save the user time.</span></span> <span data-ttu-id="bba45-369">Wenn es nicht möglich ist, dies zuverlässig zu tun, sollten Anwendungen den Benutzer stattdessen ermöglichen, der Anwendung schnell die zusätzlichen Informationen bereitzustellen, die Sie benötigt.</span><span class="sxs-lookup"><span data-stu-id="bba45-369">When it is not possible to do so reliably, applications should instead enable the user to quickly provide the application with the additional information it requires.</span></span>

<span data-ttu-id="bba45-370">Wenn Sie die richtige Scanfunktion entwerfen möchten, sollten Sie die folgenden Möglichkeiten für Ihre Anwendung beachten:</span><span class="sxs-lookup"><span data-stu-id="bba45-370">To help design the right scanning experience, consider which of the following possibilities are applicable to your application:</span></span>

* <span data-ttu-id="bba45-371">**Keine Scanvorgänge**</span><span class="sxs-lookup"><span data-stu-id="bba45-371">**No scanning experience**</span></span>
   * <span data-ttu-id="bba45-372">Eine Anwendung funktioniert problemlos, ohne dass eine gesteuerte Überprüfung durchgeführt werden kann. Sie erfahren mehr über Oberflächen, die im Kurs der natürlichen Benutzer Bewegung beobachtet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-372">An application may function perfectly without any guided scanning experience; it will learn about surfaces that are observed in the course of natural user movement.</span></span>
   * <span data-ttu-id="bba45-373">Eine Anwendung, die es dem Benutzer ermöglicht, auf Oberflächen mit Holographic Spray Paint zu zeichnen, benötigt z. b. wissen, dass nur die Oberflächen für den Benutzer sichtbar sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-373">For example an application that lets the user draw on surfaces with holographic spray paint requires knowledge only of the surfaces currently visible to the user.</span></span>
   * <span data-ttu-id="bba45-374">Die Umgebung wird möglicherweise bereits vollständig gescannt, wenn Sie eine solche ist, in der der Benutzer bereits viel Zeit für die Verwendung der hololens aufgewendet hat.</span><span class="sxs-lookup"><span data-stu-id="bba45-374">The environment may be completely scanned already if it is one in which the user has already spent a lot of time using the HoloLens.</span></span>
   * <span data-ttu-id="bba45-375">Bedenken Sie jedoch, dass für die Kamera, die von der räumlichen Zuordnung verwendet wird, nur 3.1 m vor dem Benutzer angezeigt werden kann, sodass die räumliche Zuordnung keine weiteren entfernten Oberflächen kennt, es sei denn, der Benutzer hat Sie in der Vergangenheit in der Vergangenheit beobachtet.</span><span class="sxs-lookup"><span data-stu-id="bba45-375">Bear in mind however that the camera used by spatial mapping can only see 3.1m in front of the user, so spatial mapping will not know about any more distant surfaces unless the user has observed them from a closer distance in the past.</span></span>
   * <span data-ttu-id="bba45-376">Damit der Benutzer weiß, welche Oberflächen gescannt wurden, sollte die Anwendung diesem Effekt visuelles Feedback bereitstellen, z. b. Wenn Sie virtuelle Schatten in überprüfte Oberflächen umwandeln, kann der Benutzer möglicherweise holograms auf diesen Oberflächen platzieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-376">So the user understands which surfaces have been scanned, the application should provide visual feedback to this effect, for example casting virtual shadows onto scanned surfaces may help the user place holograms on those surfaces.</span></span>
   * <span data-ttu-id="bba45-377">In diesem Fall sollten die umgebenden Volumes des räumlichen Oberflächen Beobachters jedes Frame in ein im Text gesperrtes [räumliches Koordinatensystem](coordinate-systems.md)aktualisiert werden, damit Sie dem Benutzer folgen.</span><span class="sxs-lookup"><span data-stu-id="bba45-377">For this case, the spatial surface observer's bounding volumes should be updated each frame to a body-locked [spatial coordinate system](coordinate-systems.md), so that they follow the user.</span></span>

* <span data-ttu-id="bba45-378">**Suchen nach einem passenden Speicherort**</span><span class="sxs-lookup"><span data-stu-id="bba45-378">**Find a suitable location**</span></span>
   * <span data-ttu-id="bba45-379">Eine Anwendung kann für die Verwendung an einem Speicherort mit speziellen Anforderungen entworfen werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-379">An application may be designed for use in a location with specific requirements.</span></span>
   * <span data-ttu-id="bba45-380">Beispielsweise ist für die Anwendung möglicherweise ein leerer Bereich um den Benutzer erforderlich, damit Sie Holographic Kung-Fu sicher üben kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-380">For example, the application may require an empty area around the user so they can safely practice holographic kung-fu.</span></span>
   * <span data-ttu-id="bba45-381">Anwendungen sollten alle speziellen Anforderungen an den Benutzer übermitteln und Sie mit unbestimmtem visuellen Feedback verstärken.</span><span class="sxs-lookup"><span data-stu-id="bba45-381">Applications should communicate any specific requirements to the user up-front, and reinforce them with clear visual feedback.</span></span>
   * <span data-ttu-id="bba45-382">In diesem Beispiel sollte die Anwendung den Umfang des erforderlichen leeren Bereichs visualisieren und das vorhanden sein von nicht gewünschten Objekten in dieser Zone visuell hervorheben.</span><span class="sxs-lookup"><span data-stu-id="bba45-382">In this example, the application should visualize the extent of the required empty area and visually highlight the presence of any undesired objects within this zone.</span></span>
   * <span data-ttu-id="bba45-383">In diesem Fall sollten die umgebenden Volumes des räumlichen Oberflächen Beobachters das weltweit gesperrte [räumliche Koordinatensystem](coordinate-systems.md) am ausgewählten Speicherort verwenden.</span><span class="sxs-lookup"><span data-stu-id="bba45-383">For this case, the spatial surface observer's bounding volumes should use a world-locked [spatial coordinate system](coordinate-systems.md) in the chosen location.</span></span>

* <span data-ttu-id="bba45-384">**Suchen nach einer passenden Konfiguration von Oberflächen**</span><span class="sxs-lookup"><span data-stu-id="bba45-384">**Find a suitable configuration of surfaces**</span></span>
   * <span data-ttu-id="bba45-385">Eine Anwendung erfordert möglicherweise eine bestimmte Konfiguration von Oberflächen, z. b. zwei große, flache und gegen Wände, um eine Holographic Hall of Spiegel zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-385">An application may require a specific configuration of surfaces, for example two large, flat, opposing walls to create a holographic hall of mirrors.</span></span>
   * <span data-ttu-id="bba45-386">In solchen Fällen muss die Anwendung die von der räumlichen Zuordnung bereitgestellten Oberflächen analysieren, um geeignete Oberflächen zu erkennen und den Benutzer an Sie weiterzuleiten.</span><span class="sxs-lookup"><span data-stu-id="bba45-386">In such cases the application will need to analyze the surfaces provided by spatial mapping to detect suitable surfaces, and direct the user toward them.</span></span>
   * <span data-ttu-id="bba45-387">Der Benutzer sollte über eine Fall Back Option verfügen, wenn die Oberflächenanalyse der Anwendung nicht vollständig zuverlässig ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-387">The user should have a fallback option if the application's surface analysis is not completely reliable.</span></span> <span data-ttu-id="bba45-388">Wenn die Anwendung z. b. fälschlicherweise eine Tür als flache Wand identifiziert, benötigt der Benutzer eine einfache Methode, um diesen Fehler zu beheben.</span><span class="sxs-lookup"><span data-stu-id="bba45-388">For example, if the application incorrectly identifies a doorway as a flat wall, the user needs a simple way to correct this error.</span></span>

* <span data-ttu-id="bba45-389">**Einen Teil der Umgebung scannen**</span><span class="sxs-lookup"><span data-stu-id="bba45-389">**Scan part of the environment**</span></span>
   * <span data-ttu-id="bba45-390">Eine Anwendung möchte möglicherweise nur einen Teil der Umgebung erfassen, wie vom Benutzer gesteuert.</span><span class="sxs-lookup"><span data-stu-id="bba45-390">An application may wish to only capture part of the environment, as directed by the user.</span></span>
   * <span data-ttu-id="bba45-391">Die Anwendung scannt z. b. einen Teil eines Raums, sodass der Benutzer eine Holographic-Klassifikation für die zu verkaufenden Möbel veröffentlichen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-391">For example, the application scans part of a room so the user may post a holographic classified ad for furniture they wish to sell.</span></span>
   * <span data-ttu-id="bba45-392">In diesem Fall sollte die Anwendung räumliche Mapping-Daten innerhalb der Regionen erfassen, die vom Benutzer während des Scans beobachtet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-392">In this case, the application should capture spatial mapping data within the regions observed by the user during their scan.</span></span>

* <span data-ttu-id="bba45-393">**Gesamten Raum Scannen**</span><span class="sxs-lookup"><span data-stu-id="bba45-393">**Scan the whole room**</span></span>
   * <span data-ttu-id="bba45-394">Eine Anwendung erfordert möglicherweise eine Überprüfung aller Oberflächen im aktuellen Raum, einschließlich derjenigen hinter dem Benutzer.</span><span class="sxs-lookup"><span data-stu-id="bba45-394">An application may require a scan of all of the surfaces in the current room, including those behind the user.</span></span>
   * <span data-ttu-id="bba45-395">Beispielsweise kann ein Spiel den Benutzer in die Rolle "gulleber" versetzen, die von Hunderten von kleinen lilliputians aus allen Richtungen fast erreicht werden kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-395">For example, a game may put the user in the role of Gulliver, under siege from hundreds of tiny Lilliputians approaching from all directions.</span></span>
   * <span data-ttu-id="bba45-396">In solchen Fällen muss die Anwendung bestimmen, wie viele der Oberflächen im aktuellen Raum bereits gescannt wurden, und den Blick des Benutzers darauf ausrichten, große Lücken zu füllen.</span><span class="sxs-lookup"><span data-stu-id="bba45-396">In such cases, the application will need to determine how many of the surfaces in the current room have already been scanned, and direct the user's gaze to fill in significant gaps.</span></span>
   * <span data-ttu-id="bba45-397">Der Schlüssel zu diesem Prozess ist das Bereitstellen von visuellem Feedback, mit dem der Benutzer klar ist, welche Oberflächen noch nicht gescannt wurden.</span><span class="sxs-lookup"><span data-stu-id="bba45-397">The key to this process is providing visual feedback that makes it clear to the user which surfaces have not yet been scanned.</span></span> <span data-ttu-id="bba45-398">Die Anwendung könnte z. b. einen [Entfernungs basierten Nebel](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) verwenden, um Bereiche visuell hervorzuheben, die nicht von räumlichen Mapping-Flächen abgedeckt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-398">The application could for example use [distance-based fog](https://msdn.microsoft.com/library/windows/desktop/bb173401%28v=vs.85%29.aspx) to visually highlight regions that are not covered by spatial mapping surfaces.</span></span>

* <span data-ttu-id="bba45-399">**Erstellen Sie eine anfängliche Momentaufnahme der Umgebung.**</span><span class="sxs-lookup"><span data-stu-id="bba45-399">**Take an initial snapshot of the environment**</span></span>
   * <span data-ttu-id="bba45-400">Eine Anwendung möchte möglicherweise alle Änderungen in der Umgebung ignorieren, nachdem Sie eine anfängliche "Momentaufnahme" übernommen haben.</span><span class="sxs-lookup"><span data-stu-id="bba45-400">An application may wish to ignore all changes in the environment after taking an initial 'snapshot'.</span></span>
   * <span data-ttu-id="bba45-401">Dies kann sinnvoll sein, um eine Unterbrechung von Benutzer erstellten Daten zu vermeiden, die eng mit dem ursprünglichen Zustand der Umgebung verknüpft sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-401">This may be appropriate to avoid disruption of user-created data that is tightly coupled to the initial state of the environment.</span></span>
   * <span data-ttu-id="bba45-402">In diesem Fall sollte die Anwendung eine Kopie der räumlichen Zuordnungen im ursprünglichen Zustand erstellen, sobald die Überprüfung beendet ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-402">In this case, the application should make a copy of the spatial mapping data in its initial state once the scan is complete.</span></span>
   * <span data-ttu-id="bba45-403">Anwendungen sollten weiterhin Updates für räumliche Zuordnungs Daten empfangen, wenn Hologramme weiterhin von der Umgebung ordnungsgemäß verschlossen werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-403">Applications should continue receiving updates to spatial mapping data if holograms are still to be correctly occluded by the environment.</span></span>
   * <span data-ttu-id="bba45-404">Fortlaufende Updates für räumliche Zuordnungsdaten ermöglichen auch das Visualisieren von Änderungen, die aufgetreten sind, und verdeutlichen den Benutzern die Unterschiede zwischen dem früheren und dem aktuellen Zustand der Umgebung.</span><span class="sxs-lookup"><span data-stu-id="bba45-404">Continued updates to spatial mapping data also allow visualizing any changes that have occurred, clarifying to the user the differences between prior and present states of the environment.</span></span>

* <span data-ttu-id="bba45-405">**Benutzer initiierte Momentaufnahmen der Umgebung erstellen**</span><span class="sxs-lookup"><span data-stu-id="bba45-405">**Take user-initiated snapshots of the environment**</span></span>
   * <span data-ttu-id="bba45-406">Eine Anwendung möchte möglicherweise nur auf Umgebungs Änderungen reagieren, wenn Sie vom Benutzer angewiesen werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-406">An application may only wish to respond to environmental changes when instructed by the user.</span></span>
   * <span data-ttu-id="bba45-407">Der Benutzer könnte z. b. mehrere 3D-"Statuen" eines Friend erstellen, indem er seine Posen in verschiedenen Augenblicken erfasst.</span><span class="sxs-lookup"><span data-stu-id="bba45-407">For example, the user could create multiple 3D 'statues' of a friend by capturing their poses at different moments.</span></span>

* <span data-ttu-id="bba45-408">**Benutzern das Ändern der Umgebung gestatten**</span><span class="sxs-lookup"><span data-stu-id="bba45-408">**Allow the user to change the environment**</span></span>
   * <span data-ttu-id="bba45-409">Eine Anwendung kann so entworfen werden, dass Sie in Echtzeit auf alle Änderungen in der Benutzerumgebung antwortet.</span><span class="sxs-lookup"><span data-stu-id="bba45-409">An application may be designed to respond in real-time to any changes made in the user's environment.</span></span>
   * <span data-ttu-id="bba45-410">Der Benutzer, der einen Vorhang zeichnet, könnte z. b. "Szenen Änderung" für eine holografische Wiedergabe auf der anderen Seite auslöst.</span><span class="sxs-lookup"><span data-stu-id="bba45-410">For example, the user drawing a curtain could trigger 'scene change' for a holographic play taking place on the other side.</span></span>

* <span data-ttu-id="bba45-411">**Leiten Sie den Benutzer ein, um Fehler in den räumlichen Daten zu vermeiden.**</span><span class="sxs-lookup"><span data-stu-id="bba45-411">**Guide the user to avoid errors in the spatial mapping data**</span></span>
   * <span data-ttu-id="bba45-412">Eine Anwendung möchte dem Benutzer beim Scannen der Umgebung möglicherweise Anleitungen bereitstellen.</span><span class="sxs-lookup"><span data-stu-id="bba45-412">An application may wish to provide guidance to the user while they are scanning their environment.</span></span>
   * <span data-ttu-id="bba45-413">Dies kann den Benutzer dabei unterstützen, bestimmte Arten von [Fehlern in den räumlichen Daten](spatial-mapping.md#what-influences-spatial-mapping-quality)zu vermeiden, z. b. durch die Entfernung von Fenstern oder spiegeln.</span><span class="sxs-lookup"><span data-stu-id="bba45-413">This can help the user to avoid certain kinds of [errors in the spatial mapping data](spatial-mapping.md#what-influences-spatial-mapping-quality), for example by staying away from sunlit windows or mirrors.</span></span>

<span data-ttu-id="bba45-414">Ein zusätzliches Detail, das zu beachten ist, besteht darin, dass der Bereich der räumlichen Zuordnungsdaten nicht unbegrenzt ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-414">One additional detail to be aware of is that the 'range' of spatial mapping data is not unlimited.</span></span> <span data-ttu-id="bba45-415">Während die räumliche Zuordnung eine permanente Datenbank mit großen Leerzeichen erstellt, werden diese Daten nur für Anwendungen in einer begrenzten Größe um den Benutzer verfügbar gemacht.</span><span class="sxs-lookup"><span data-stu-id="bba45-415">Whilst spatial mapping does build a permanent database of large spaces, it only makes that data available to applications in a 'bubble' of limited size around the user.</span></span> <span data-ttu-id="bba45-416">Wenn Sie also am Anfang eines langen Korridors beginnen und weit genug weg vom Start Weg gehen, werden die räumlichen Oberflächen am Anfang nicht mehr angezeigt.</span><span class="sxs-lookup"><span data-stu-id="bba45-416">Thus if you start at the beginning of a long corridor and walk far enough away from the start, then eventually the spatial surfaces back at the beginning will disappear.</span></span> <span data-ttu-id="bba45-417">Sie können dies natürlich verringern, indem Sie diese Oberflächen in der Anwendung Zwischenspeichern, nachdem Sie aus den verfügbaren räumlichen Zuordnungsdaten verschwunden sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-417">You can of course mitigate this by caching those surfaces in your application after they have disappeared from the available spatial mapping data.</span></span>

## <a name="mesh-processing"></a><span data-ttu-id="bba45-418">Mesh-Verarbeitung</span><span class="sxs-lookup"><span data-stu-id="bba45-418">Mesh processing</span></span>

<span data-ttu-id="bba45-419">Es kann hilfreich sein, häufige Arten von Fehlern in Oberflächen zu erkennen und die räumlichen Zuordnungsdaten nach Bedarf zu filtern, zu entfernen oder zu ändern.</span><span class="sxs-lookup"><span data-stu-id="bba45-419">It may help to detect common types of errors in surfaces and to filter, remove or modify the spatial mapping data as appropriate.</span></span>

<span data-ttu-id="bba45-420">Beachten Sie, dass räumliche Zuordnungsdaten so wie möglich an reale Oberflächen ausgerichtet werden sollen, sodass bei jeder Verarbeitung, die Sie anwenden, ihre Oberflächen weiter von der Wahrheit entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-420">Bear in mind that spatial mapping data is intended to be as faithful as possible to real-world surfaces, so any processing you apply risks shifting your surfaces further from the 'truth'.</span></span>

<span data-ttu-id="bba45-421">Im folgenden finden Sie einige Beispiele für verschiedene Arten der Mesh-Verarbeitung, die Sie möglicherweise hilfreich finden:</span><span class="sxs-lookup"><span data-stu-id="bba45-421">Here are some examples of different types of mesh processing that you may find useful:</span></span>

* <span data-ttu-id="bba45-422">**Loch Füllung**</span><span class="sxs-lookup"><span data-stu-id="bba45-422">**Hole filling**</span></span>
   * <span data-ttu-id="bba45-423">Wenn ein kleines Objekt, das aus einem dunklen Material besteht, nicht gescannt werden kann, wird eine Lücke auf der umgebenden Oberfläche hinterlassen.</span><span class="sxs-lookup"><span data-stu-id="bba45-423">If a small object made of a dark material fails to scan, it will leave a hole in the surrounding surface.</span></span>
   * <span data-ttu-id="bba45-424">Löcher wirken sich auf die Okklusion aus: holograms können durch ein Loch in einer vermeintlich nicht transparenten realen Oberfläche angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-424">Holes affect occlusion: holograms can be seen 'through' a hole in a supposedly opaque real-world surface.</span></span>
   * <span data-ttu-id="bba45-425">Löcher wirken sich auf Raycasts aus: Wenn Sie Raycasts verwenden, um Benutzer bei der Interaktion mit Oberflächen zu unterstützen, ist es möglicherweise nicht wünschenswert, dass diese Strahlen Lücken passieren.</span><span class="sxs-lookup"><span data-stu-id="bba45-425">Holes affect raycasts: if you are using raycasts to help users interact with surfaces, it may be undesirable for these rays to pass through holes.</span></span> <span data-ttu-id="bba45-426">Eine Entschärfung besteht darin, ein Bündel mehrerer Raycasts zu verwenden, die einen entsprechend großen Bereich abdecken.</span><span class="sxs-lookup"><span data-stu-id="bba45-426">One mitigation is to use a bundle of multiple raycasts covering an appropriately sized region.</span></span> <span data-ttu-id="bba45-427">Auf diese Weise können Sie die Ergebnisse von "outreißer" filtern, damit das Aggregat Ergebnis auch dann gültig ist, wenn ein raycast eine kleine Lücke durchläuft.</span><span class="sxs-lookup"><span data-stu-id="bba45-427">This will allow you to filter 'outlier' results, so that even if one raycast passes through a small hole, the aggregate result will still be valid.</span></span> <span data-ttu-id="bba45-428">Beachten Sie jedoch, dass dieser Ansatz zu Rechen Kosten kommt.</span><span class="sxs-lookup"><span data-stu-id="bba45-428">However, be aware that this approach comes at a computational cost.</span></span>
   * <span data-ttu-id="bba45-429">Löcher wirken sich auf die Physik aus: ein Objekt, das von der Physik-Simulation gesteuert wird, kann eine Lücke im Boden ablegen und geht verloren.</span><span class="sxs-lookup"><span data-stu-id="bba45-429">Holes affect physics collisions: an object controlled by physics simulation may drop through a hole in the floor and become lost.</span></span>
   * <span data-ttu-id="bba45-430">Es ist möglich, diese Lücken im Oberflächen Mesh algorithmisch zu füllen.</span><span class="sxs-lookup"><span data-stu-id="bba45-430">It is possible to algorithmically fill such holes in the surface mesh.</span></span> <span data-ttu-id="bba45-431">Sie müssen jedoch ihren Algorithmus optimieren, damit "echte Lücken" wie Windows und Doorways nicht ausgefüllt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-431">However, you will need to tune your algorithm so that 'real holes' such as windows and doorways do not get filled in.</span></span> <span data-ttu-id="bba45-432">Es kann schwierig sein, "echte Löcher" von "imaginären Löchern" zuverlässig zu unterscheiden, sodass Sie mit unterschiedlichen Heuristiken experimentieren müssen, wie z. b. "size" und "Boundary Shape".</span><span class="sxs-lookup"><span data-stu-id="bba45-432">It can be difficult to reliably differentiate 'real holes' from 'imaginary holes', so you will need to experiment with different heuristics such as 'size' and 'boundary shape'.</span></span>

* <span data-ttu-id="bba45-433">**Entfernen von halluziierung**</span><span class="sxs-lookup"><span data-stu-id="bba45-433">**Hallucination removal**</span></span>
   * <span data-ttu-id="bba45-434">Reflektionen, helle Lichter und verschiebende Objekte können kleine "halluzationen" in Mittel Luft bewegen.</span><span class="sxs-lookup"><span data-stu-id="bba45-434">Reflections, bright lights and moving objects can leave small lingering 'hallucinations' floating in mid-air.</span></span>
   * <span data-ttu-id="bba45-435">Halluzerungen wirken sich auf die oksion aus: halluformen können als dunkle Formen sichtbar werden, die vor und nach anderen holograms stehen.</span><span class="sxs-lookup"><span data-stu-id="bba45-435">Hallucinations affect occlusion: hallucinations may become visible as dark shapes moving in front of and occluding other holograms.</span></span>
   * <span data-ttu-id="bba45-436">Hallutrisierungen wirken sich auf Raycasts aus: Wenn Sie Raycasts verwenden, um Benutzer bei der Interaktion mit Oberflächen zu unterstützen, können diese Strahlen eine halluziierung anstelle der dahinter liegenden Oberfläche erreichen.</span><span class="sxs-lookup"><span data-stu-id="bba45-436">Hallucinations affect raycasts: if you are using raycasts to help users interact with surfaces, these rays could hit a hallucination instead of the surface behind it.</span></span> <span data-ttu-id="bba45-437">Wie bei den Lücken besteht eine Entschärfung darin, viele Raycasts anstelle eines einzelnen raycast zu verwenden, aber auch hier werden die Rechen Kosten berechnet.</span><span class="sxs-lookup"><span data-stu-id="bba45-437">As with holes, one mitigation is to use many raycasts instead of a single raycast, but again this will come at a computational cost.</span></span>
   * <span data-ttu-id="bba45-438">Hallutrisierungen wirken sich auf die Physik aus: ein Objekt, das von der Physik-Simulation gesteuert wird, kann sich gegen eine volumumeration befinden und kann nicht durch einen scheinbar unklaren Bereich des Raums wechseln.</span><span class="sxs-lookup"><span data-stu-id="bba45-438">Hallucinations affect physics collisions: an object controlled by physics simulation may become stuck against a hallucination and be unable to move through a seemingly clear area of space.</span></span>
   * <span data-ttu-id="bba45-439">Es ist möglich, solche hallumeerungen aus dem Oberflächen Mesh zu filtern.</span><span class="sxs-lookup"><span data-stu-id="bba45-439">It is possible to filter such hallucinations from the surface mesh.</span></span> <span data-ttu-id="bba45-440">Allerdings müssen Sie, wie bei Lücken, ihren Algorithmus optimieren, sodass echte kleine Objekte wie z. b. LAMP-und türhandles nicht entfernt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-440">However, as with holes, you will need to tune your algorithm so that real small objects such as lamp-stands and door handles do not get removed.</span></span>

* <span data-ttu-id="bba45-441">**End**</span><span class="sxs-lookup"><span data-stu-id="bba45-441">**Smoothing**</span></span>
   * <span data-ttu-id="bba45-442">Räumliche Zusätze können Oberflächen zurückgeben, die im Vergleich zu ihren echten Gegenstücken grob oder "laut" sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-442">Spatial mapping may return surfaces that appear to be rough or 'noisy' in comparison to their real-world counterparts.</span></span>
   * <span data-ttu-id="bba45-443">Glätte wirkt sich auf physikalische Konflikte aus: Wenn der Boden grob ist, kann ein physisch simulierter Golfball in einer geraden Linie nicht nahtlos über ihn hinweg ausgeführt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-443">Smoothness affects physics collisions: if the floor is rough, a physically simulated golf ball may not roll smoothly across it in a straight line.</span></span>
   * <span data-ttu-id="bba45-444">Glätte wirkt sich auf das Rendering aus: Wenn eine Oberfläche direkt visualisiert wird, können sich grobe Oberflächen normale auf ihre Darstellung auswirken und ein "sauberes" Erscheinungsbild unterbrechen.</span><span class="sxs-lookup"><span data-stu-id="bba45-444">Smoothness affects rendering: if a surface is visualized directly, rough surface normals can affect its appearance and disrupt a 'clean' look.</span></span> <span data-ttu-id="bba45-445">Dies ist möglich, indem Sie die entsprechende Beleuchtung und Texturen im Shader verwenden, die zum renderende der Oberfläche verwendet werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-445">It is possible to mitigate this by using appropriate lighting and textures in the shader that is used to render the surface.</span></span>
   * <span data-ttu-id="bba45-446">Es ist möglich, die rautheit in einem Oberflächen Mesh zu glätten.</span><span class="sxs-lookup"><span data-stu-id="bba45-446">It is possible to smooth out roughness in a surface mesh.</span></span> <span data-ttu-id="bba45-447">Dadurch wird die Oberfläche jedoch möglicherweise von der entsprechenden realen Oberfläche entfernt.</span><span class="sxs-lookup"><span data-stu-id="bba45-447">However, this may push the surface further away from the corresponding real-world surface.</span></span> <span data-ttu-id="bba45-448">Die Beibehaltung einer Schluss Stimme ist wichtig, um eine genaue Hologramm-Okklusion zu erzielen und es Benutzern zu ermöglichen, präzise und vorhersagbare Interaktionen mit Holographic-Oberflächen zu erzielen</span><span class="sxs-lookup"><span data-stu-id="bba45-448">Maintaining a close correspondence is important to produce accurate hologram occlusion, and to enable users to achieve precise and predictable interactions with holographic surfaces.</span></span>
   * <span data-ttu-id="bba45-449">Wenn nur eine kosmetische Änderung erforderlich ist, kann es ausreichen, Vertex-Normale zu glätten, ohne die Scheitelpunkt Positionen zu ändern.</span><span class="sxs-lookup"><span data-stu-id="bba45-449">If only a cosmetic change is required, it may be sufficient to smooth vertex normals without changing vertex positions.</span></span>

* <span data-ttu-id="bba45-450">**Auffinden von Ebenen**</span><span class="sxs-lookup"><span data-stu-id="bba45-450">**Plane finding**</span></span>
   * <span data-ttu-id="bba45-451">Es gibt viele Analyse Formen, die eine Anwendung auf den von der räumlichen Zuordnung bereitgestellten Oberflächen ausführen kann.</span><span class="sxs-lookup"><span data-stu-id="bba45-451">There are many forms of analysis that an application may wish to perform on the surfaces provided by spatial mapping.</span></span>
   * <span data-ttu-id="bba45-452">Ein einfaches Beispiel ist die "Plane-Suche". Identifizierung von begrenzten, größtenteils planaren Bereichen von Oberflächen.</span><span class="sxs-lookup"><span data-stu-id="bba45-452">One simple example is 'plane finding'; identifying bounded, mostly-planar regions of surfaces.</span></span>
   * <span data-ttu-id="bba45-453">Planare Regionen können als holografische Arbeits Oberflächen verwendet werden, in denen Holographic-Inhalte automatisch von der Anwendung platziert werden können.</span><span class="sxs-lookup"><span data-stu-id="bba45-453">Planar regions can be used as holographic work-surfaces, regions where holographic content can be automatically placed by the application.</span></span>
   * <span data-ttu-id="bba45-454">Planare Regionen können die Benutzeroberfläche einschränken, um Benutzer zur Interaktion mit den Oberflächen zu leiten, die Ihren Anforderungen am besten entsprechen.</span><span class="sxs-lookup"><span data-stu-id="bba45-454">Planar regions can constrain the user interface, to guide users to interact with the surfaces that best suit their needs.</span></span>
   * <span data-ttu-id="bba45-455">Planare Regionen können wie in der realen Welt verwendet werden, für holografische Entsprechungen zu funktionalen Objekten, wie z. b. LCD-Bildschirmen, Tabellen oder Whiteboards.</span><span class="sxs-lookup"><span data-stu-id="bba45-455">Planar regions can be used as in the real world, for holographic counterparts to functional objects such as LCD screens, tables or whiteboards.</span></span>
   * <span data-ttu-id="bba45-456">Planare Regionen können Wiedergabe Bereiche definieren, die die Basis von Videogame-Ebenen bilden.</span><span class="sxs-lookup"><span data-stu-id="bba45-456">Planar regions can define play areas, forming the basis of videogame levels.</span></span>
   * <span data-ttu-id="bba45-457">Planare Regionen können virtuellen Agents dabei helfen, in der realen Welt zu navigieren, indem Sie die Bereiche ermitteln, in denen echte Menschen wahrscheinlich gehen.</span><span class="sxs-lookup"><span data-stu-id="bba45-457">Planar regions can aid virtual agents to navigate the real world, by identifying the areas of floor that real people are likely to walk on.</span></span>

## <a name="prototyping-and-debugging"></a><span data-ttu-id="bba45-458">Prototypen und Debuggen</span><span class="sxs-lookup"><span data-stu-id="bba45-458">Prototyping and debugging</span></span>

### <a name="useful-tools"></a><span data-ttu-id="bba45-459">Nützliche Tools</span><span class="sxs-lookup"><span data-stu-id="bba45-459">Useful tools</span></span>
* <span data-ttu-id="bba45-460">Der [hololens-Emulator](using-the-hololens-emulator.md) kann verwendet werden, um Anwendungen mit räumlicher Zuordnung zu entwickeln, ohne auf physische hololens zuzugreifen.</span><span class="sxs-lookup"><span data-stu-id="bba45-460">The [HoloLens emulator](using-the-hololens-emulator.md) can be used to develop applications using spatial mapping without access to a physical HoloLens.</span></span> <span data-ttu-id="bba45-461">Sie ermöglicht es Ihnen, eine Live Sitzung auf einem hololens in einer realistischen Umgebung zu simulieren, mit allen Daten, die Ihre Anwendung normalerweise verbraucht, einschließlich hololens-Bewegung, räumlichen Koordinatensystemen und räumlichen Zuordnungs Netzen.</span><span class="sxs-lookup"><span data-stu-id="bba45-461">It allows you to simulate a live session on a HoloLens in a realistic environment, with all of the data your application would normally consume, including HoloLens motion, spatial coordinate systems and spatial mapping meshes.</span></span> <span data-ttu-id="bba45-462">Dies kann verwendet werden, um zuverlässige, wiederholbare Eingaben bereitzustellen, die für das Debuggen von Problemen und das Auswerten von Änderungen an Ihrem Code nützlich sein können.</span><span class="sxs-lookup"><span data-stu-id="bba45-462">This can be used to provide reliable, repeatable input, which can be useful for debugging problems and evaluating changes to your code.</span></span>
* <span data-ttu-id="bba45-463">Zum reproduzieren eines Szenarios erfassen Sie räumliche Zuordnungsdaten über das Netzwerk aus einem aktiven hololens, speichern Sie Sie dann auf einem Datenträger, und verwenden Sie Sie in nachfolgenden Debugsitzungen erneut.</span><span class="sxs-lookup"><span data-stu-id="bba45-463">To reproduce a scenarios, capture spatial mapping data over the network from a live HoloLens, then save it to disk and reuse it in subsequent debugging sessions.</span></span>
* <span data-ttu-id="bba45-464">Die [3D-Ansicht des Windows-Geräte Portals](using-the-windows-device-portal.md#3d-view) bietet eine Möglichkeit, alle räumlichen Oberflächen anzuzeigen, die zurzeit über das räumliche Mapping-System verfügbar sind.</span><span class="sxs-lookup"><span data-stu-id="bba45-464">The [Windows device portal 3D view](using-the-windows-device-portal.md#3d-view) provides a way to see all of the spatial surfaces currently available via the spatial mapping system.</span></span> <span data-ttu-id="bba45-465">Dies ist eine Grundlage für den Vergleich der räumlichen Oberflächen innerhalb Ihrer Anwendung. Beispielsweise können Sie leicht erkennen, ob räumliche Oberflächen fehlen oder an der falschen Stelle angezeigt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-465">This provides a basis of comparison for the spatial surfaces inside your application; for example you can easily tell if any spatial surfaces are missing or are being displayed in the wrong place.</span></span>

### <a name="general-prototyping-guidance"></a><span data-ttu-id="bba45-466">Leitfaden für allgemeine Prototypen</span><span class="sxs-lookup"><span data-stu-id="bba45-466">General prototyping guidance</span></span>
* <span data-ttu-id="bba45-467">Da [Fehler](spatial-mapping.md#what-influences-spatial-mapping-quality) in den räumlichen Mapping-Daten sich stark auf die Benutzerumgebung auswirken können, empfiehlt es sich, die Anwendung in einer Vielzahl von Umgebungen zu testen.</span><span class="sxs-lookup"><span data-stu-id="bba45-467">Because [errors](spatial-mapping.md#what-influences-spatial-mapping-quality) in the spatial mapping data may strongly affect your user's experience, we recommend that you test your application in a wide variety of environments.</span></span>
* <span data-ttu-id="bba45-468">Nehmen Sie nicht an der Gewohnheit vor, sich immer am gleichen Ort zu testen, z. b. an Ihrem Schreibtisch.</span><span class="sxs-lookup"><span data-stu-id="bba45-468">Don't get trapped in the habit of always testing in the same location, for example at your desk.</span></span> <span data-ttu-id="bba45-469">Stellen Sie sicher, dass Sie auf verschiedenen Oberflächen unterschiedlichen Positionen, Formen, Größen und Materialien testen.</span><span class="sxs-lookup"><span data-stu-id="bba45-469">Make sure to test on various surfaces of different positions, shapes, sizes and materials.</span></span>
* <span data-ttu-id="bba45-470">Auch wenn synthetische oder aufgezeichnete Daten für das Debuggen hilfreich sein können, werden Sie nicht auf die gleichen wenige Testfälle angewiesen.</span><span class="sxs-lookup"><span data-stu-id="bba45-470">Similarly, while synthetic or recorded data can be useful for debugging, don't become too reliant upon the same few test cases.</span></span> <span data-ttu-id="bba45-471">Dadurch werden möglicherweise wichtige Probleme ermittelt, die zuvor durch mehr unterschiedliche Tests abgefangen wurden.</span><span class="sxs-lookup"><span data-stu-id="bba45-471">This may delay finding important issues that more varied testing would have caught earlier.</span></span>
* <span data-ttu-id="bba45-472">Es empfiehlt sich, Tests mit echten (und im Idealfall nicht gespoinierten) Benutzern durchzuführen, da Sie die hololens oder Ihre Anwendung möglicherweise nicht exakt auf die gleiche Weise wie Sie verwenden.</span><span class="sxs-lookup"><span data-stu-id="bba45-472">It is a good idea to perform testing with real (and ideally un-coached) users, because they may not use the HoloLens or your application in exactly the same way that you do.</span></span> <span data-ttu-id="bba45-473">Dies kann Ihnen vielleicht überraschen, wie sich das Verhalten, das Wissen und die Annahmen der unterschiedlichen Benutzer Verhalten.</span><span class="sxs-lookup"><span data-stu-id="bba45-473">In fact, it may surprise you how divergent people's behavior, knowledge and assumptions can be!</span></span>

## <a name="troubleshooting"></a><span data-ttu-id="bba45-474">Fehlerbehebung</span><span class="sxs-lookup"><span data-stu-id="bba45-474">Troubleshooting</span></span>
* <span data-ttu-id="bba45-475">Damit die Oberflächen Netzen ordnungsgemäß ausgerichtet werden, muss jedes gameobject aktiv sein, bevor es an den surfaceobeserver gesendet wird, damit das Mesh erstellt wird.</span><span class="sxs-lookup"><span data-stu-id="bba45-475">In order for the surface meshes to be orientated correctly, each GameObject needs to be active before it is sent to the SurfaceObeserver to have its mesh constructed.</span></span> <span data-ttu-id="bba45-476">Andernfalls werden die Netze in Ihrem Raum angezeigt, aber in seltsamen Winkeln gedreht.</span><span class="sxs-lookup"><span data-stu-id="bba45-476">Otherwise, the meshes will show up in your space but rotated at weird angles.</span></span>
* <span data-ttu-id="bba45-477">Das gameobject, das das Skript ausführt, das mit dem surfaceobserver kommuniziert, muss auf den Ursprung festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="bba45-477">The GameObject that runs the script that communicates with the SurfaceObserver needs to be set to the origin.</span></span> <span data-ttu-id="bba45-478">Andernfalls verfügen alle von Ihnen erstellten und an den surfaceobserver gesendeten gameobjects-Objekte, deren Netzen erstellt werden, über einen Offset, der gleich dem Offset des übergeordneten Spiel Objekts ist.</span><span class="sxs-lookup"><span data-stu-id="bba45-478">Otherwise, all of GameObjects that you create and send to the SurfaceObserver to have their meshes constructed will have an offset equal to the offset of the Parent Game Object.</span></span> <span data-ttu-id="bba45-479">Dies kann dazu führen, dass ihre Netze mehrere Meter entfernt werden, sodass es sehr schwierig ist, das zu debuggen, was passiert.</span><span class="sxs-lookup"><span data-stu-id="bba45-479">This can make your meshes show up several meters away which makes it very hard to debug what is going on.</span></span>

## <a name="see-also"></a><span data-ttu-id="bba45-480">Weitere Informationen:</span><span class="sxs-lookup"><span data-stu-id="bba45-480">See also</span></span>
* [<span data-ttu-id="bba45-481">Koordinatensysteme</span><span class="sxs-lookup"><span data-stu-id="bba45-481">Coordinate systems</span></span>](coordinate-systems.md)
* [<span data-ttu-id="bba45-482">Räumliche Abbildung in DirectX</span><span class="sxs-lookup"><span data-stu-id="bba45-482">Spatial mapping in DirectX</span></span>](spatial-mapping-in-directx.md)
* [<span data-ttu-id="bba45-483">Räumliche Abbildung in Unity</span><span class="sxs-lookup"><span data-stu-id="bba45-483">Spatial mapping in Unity</span></span>](spatial-mapping-in-unity.md)
* [<span data-ttu-id="bba45-484">Szenen Verständnis</span><span class="sxs-lookup"><span data-stu-id="bba45-484">Scene Understanding</span></span>](scene-understanding.md)
* [<span data-ttu-id="bba45-485">Raumabtastvisualisierung</span><span class="sxs-lookup"><span data-stu-id="bba45-485">Room scan visualization</span></span>](room-scan-visualization.md)
* [<span data-ttu-id="bba45-486">Raumklangentwurf</span><span class="sxs-lookup"><span data-stu-id="bba45-486">Spatial sound design</span></span>](spatial-sound-design.md)
* [<span data-ttu-id="bba45-487">Fallstudie – Schauen durch Löcher in Ihrer Realität</span><span class="sxs-lookup"><span data-stu-id="bba45-487">Case study - Looking through holes in your reality</span></span>](case-study-looking-through-holes-in-your-reality.md)
