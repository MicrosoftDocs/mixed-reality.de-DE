---
title: 5. Hinzufügen einer Taste und Zurücksetzen von Figurenpositionen
description: Teil 5 eines Tutorials zum Erstellen einer einfachen Schach-App mit Unreal Engine 4 und dem UX-Tools-Plug-In des Mixed Reality-Toolkits
author: sw5813
ms.author: suwu
ms.date: 5/5/2020
ms.topic: article
ms.localizationpriority: high
keywords: Unreal, Unreal Engine 4, UE4, HoloLens, HoloLens 2, Mixed Reality, Tutorial, erste Schritte, MRTK, UXT, UX Tools, Dokumentation
ms.openlocfilehash: 77fe2b59db970a2ac4b531d69efec6794478f7d5
ms.sourcegitcommit: 09d9fa153cd9072f60e33a5f83ced8167496fcd7
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 05/18/2020
ms.locfileid: "83519992"
---
# <a name="5-adding-a-button--resetting-piece-locations"></a><span data-ttu-id="348ab-104">5. Hinzufügen einer Taste und Zurücksetzen von Figurenpositionen</span><span class="sxs-lookup"><span data-stu-id="348ab-104">5. Adding a button & resetting piece locations</span></span>

<span data-ttu-id="348ab-105">In diesem Abschnitt werden weiter die Funktionen des UX-Tools-Plug-Ins des Mixed Reality-Toolkits veranschaulicht und die Features Ihrer Schach-App erweitert.</span><span class="sxs-lookup"><span data-stu-id="348ab-105">This section continues demonstrating the capabilities of the Mixed Reality Toolkit UX Tools plugin and building out the features of your chess app.</span></span> <span data-ttu-id="348ab-106">Dazu wird eine neue Funktion erstellt, und Sie erfahren, wie Sie Verweise auf Akteure aus Ihrem Level in eine Blaupause integrieren.</span><span class="sxs-lookup"><span data-stu-id="348ab-106">You’ll create a new function and learn how to get references to Actors from your Level into a Blueprint.</span></span>

## <a name="objectives"></a><span data-ttu-id="348ab-107">Ziele</span><span class="sxs-lookup"><span data-stu-id="348ab-107">Objectives</span></span>

* <span data-ttu-id="348ab-108">Hinzufügen eines Schalters zu Ihrem Projekt</span><span class="sxs-lookup"><span data-stu-id="348ab-108">Add a button to your project</span></span>
* <span data-ttu-id="348ab-109">Erstellen der neuen Funktion „Reset Location“ (Position zurücksetzen), um eine Figur wieder auf ihre ursprüngliche Position zurückzusetzen</span><span class="sxs-lookup"><span data-stu-id="348ab-109">Create a new “Reset Location” function that sends a piece back to its original location</span></span>
* <span data-ttu-id="348ab-110">Einbinden des Schalters, damit beim Drücken des Schalters die neu erstellte Funktion ausgelöst wird</span><span class="sxs-lookup"><span data-stu-id="348ab-110">Hook the button up to trigger the newly created function when pressed</span></span>

## <a name="create-a-function-to-reset-location"></a><span data-ttu-id="348ab-111">Erstellen einer Funktion zum Zurücksetzen der Position</span><span class="sxs-lookup"><span data-stu-id="348ab-111">Create a function to reset location</span></span>

1.  <span data-ttu-id="348ab-112">Öffnen Sie **WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="348ab-112">Open **WhiteKing**.</span></span> <span data-ttu-id="348ab-113">Klicken Sie im Bereich **My Blueprint** (Meine Blaupause) neben dem Abschnitt **Functions** (Funktionen) auf die Plusschaltfläche (+), um eine neue Funktion zu erstellen.</span><span class="sxs-lookup"><span data-stu-id="348ab-113">In the **My Blueprint** panel, click the “+” button next to the **Functions** section to create a new function.</span></span> <span data-ttu-id="348ab-114">Nennen Sie diese Funktion „Reset Location“ (Position zurücksetzen).</span><span class="sxs-lookup"><span data-stu-id="348ab-114">Name this function “Reset Location”.</span></span> 

2.  <span data-ttu-id="348ab-115">Ziehen Sie in der neu erstellten Blaupause **Reset Location** (Position zurücksetzen) den Ausführungspin an eine beliebige Stelle des Blaupausenrasters, und lassen Sie ihn los, um einen Knoten vom Typ **SetActorRelativeTransform** aufzurufen.</span><span class="sxs-lookup"><span data-stu-id="348ab-115">In your newly created **Reset Location** Blueprint, drag the execution pin and release anywhere on the Blueprint grid to call a **SetActorRelativeTransform** node.</span></span> <span data-ttu-id="348ab-116">Durch diese Funktion wird die Transformation (Position, Rotation und Skalierung) eines Akteurs relativ zum übergeordneten Element festgelegt.</span><span class="sxs-lookup"><span data-stu-id="348ab-116">This function sets the transform (location, rotation, and scale) of an actor relative to its parent.</span></span> <span data-ttu-id="348ab-117">Hier wird diese Funktion verwendet, um die Position des Königs auf dem Schachbrett zurückzusetzen, auch wenn sich dieses nicht mehr an seiner ursprünglichen Position befindet.</span><span class="sxs-lookup"><span data-stu-id="348ab-117">We’ll use this function to reset the king’s position on the board, even if the board has been moved from its original position.</span></span> <span data-ttu-id="348ab-118">Erstellen Sie einen Knoten vom Typ **Make Transform** (Transformation erstellen) mit der Position „X = -26“, „Y = 4“ und „Z = 0“, und verbinden Sie ihn mit der Eingabe „New Relative Transform“ (Neue relative Transformation).</span><span class="sxs-lookup"><span data-stu-id="348ab-118">Create a **Make Transform** node with Location X = -26, Y = 4, Z = 0, and connect it to the New Relative Transform input.</span></span> 

![Funktion zum Zurücksetzen der Position](images/unreal-uxt/5-function.PNG)

3.  <span data-ttu-id="348ab-120">Kompilieren und speichern Sie **WhiteKing**.</span><span class="sxs-lookup"><span data-stu-id="348ab-120">Compile and Save **WhiteKing**.</span></span> <span data-ttu-id="348ab-121">Kehren Sie zum Hauptfenster zurück.</span><span class="sxs-lookup"><span data-stu-id="348ab-121">Return to the Main window.</span></span> 

## <a name="add-a-button"></a><span data-ttu-id="348ab-122">Hinzufügen eines Schalters</span><span class="sxs-lookup"><span data-stu-id="348ab-122">Add a button</span></span>

1.  <span data-ttu-id="348ab-123">Erstellen Sie im Ordner **Blueprints** eine neue Blaupause als Unterklasse von „SimpleButton“.</span><span class="sxs-lookup"><span data-stu-id="348ab-123">In your **Blueprints** folder, create a new Blueprint that subclasses SimpleButton.</span></span> <span data-ttu-id="348ab-124">„SimpleButton“ ist ein Blaupausenakteur in Form eines 3D-Schalters, der im Rahmen des UX-Tools-Plug-Ins bereitgestellt wird.</span><span class="sxs-lookup"><span data-stu-id="348ab-124">SimpleButton is a 3D button Blueprint Actor that is provided as part of the UX Tools plugin.</span></span> <span data-ttu-id="348ab-125">Nennen Sie diesen Schalter „ResetButton“, und doppelklicken Sie darauf, um die Blaupause zu öffnen.</span><span class="sxs-lookup"><span data-stu-id="348ab-125">Name this button “ResetButton” and double click to open the Blueprint.</span></span> 

![Verwenden der neuen Blaupause als Unterklasse von „SimpleButton“](images/unreal-uxt/5-subclass.PNG)

2.  <span data-ttu-id="348ab-127">Klicken Sie im Bereich **Components** (Komponenten) auf **PressableButton (Inherited)** (PressableButton (geerbt)).</span><span class="sxs-lookup"><span data-stu-id="348ab-127">In the **Components** panel, click on **PressableButton (Inherited)**.</span></span> <span data-ttu-id="348ab-128">Scrollen Sie im Detailbereich zum Abschnitt **Events** (Ereignisse).</span><span class="sxs-lookup"><span data-stu-id="348ab-128">In the Details panel, scroll until you see the **Events** section.</span></span> <span data-ttu-id="348ab-129">Klicken Sie neben **On Button Pressed** (Beim Drücken des Schalters) auf die grüne Plusschaltfläche. Dadurch wird dem Ereignisdiagramm ein Ereignis vom Typ **On Button Pressed** (Beim Drücken des Schalters) hinzugefügt, das beim Drücken des Schalters aufgerufen wird.</span><span class="sxs-lookup"><span data-stu-id="348ab-129">Click the green plus button next to **On Button Pressed**- this will add an **On Button Pressed** event to the Event Graph, which will be called when the button is pressed.</span></span> <span data-ttu-id="348ab-130">Hier möchten wir die Funktion „Reset Location“ (Position zurücksetzen) für den weißen König (WhiteKing) aufrufen.</span><span class="sxs-lookup"><span data-stu-id="348ab-130">From here, we’ll want to call our WhiteKing’s Reset Location function.</span></span> <span data-ttu-id="348ab-131">Dazu wird zunächst ein Verweis auf den Akteur „WhiteKing“ im Level benötigt.</span><span class="sxs-lookup"><span data-stu-id="348ab-131">To do this, we’ll first need to get a reference to the WhiteKing Actor in our Level.</span></span> 

3.  <span data-ttu-id="348ab-132">Navigieren Sie im Bereich **My Blueprint** (Meine Blaupause) zum Abschnitt **Variables** (Variablen), und klicken Sie auf die Schaltfläche **+** , um eine neue Variable hinzuzufügen.</span><span class="sxs-lookup"><span data-stu-id="348ab-132">In the **My Blueprint** panel, find the **Variables** section and click the **+** button to add a new variable.</span></span> <span data-ttu-id="348ab-133">Nennen Sie diese Variable „WhiteKing“.</span><span class="sxs-lookup"><span data-stu-id="348ab-133">Name this variable “WhiteKing”.</span></span> <span data-ttu-id="348ab-134">Wählen Sie im Detailbereich die Dropdownliste neben **Variable Type** (Variablentyp) aus, suchen Sie nach „WhiteKing“, und wählen Sie den Objektverweis (**Object Reference**) aus.</span><span class="sxs-lookup"><span data-stu-id="348ab-134">In the Details panel, select the dropdown next to **Variable Type**, search for “WhiteKing”, and select the **Object Reference**.</span></span> <span data-ttu-id="348ab-135">Aktivieren Sie abschließend das Kontrollkästchen neben **Instance Editable** (Bearbeitbare Instanz).</span><span class="sxs-lookup"><span data-stu-id="348ab-135">Finally, check the box next to **Instance Editable**.</span></span> <span data-ttu-id="348ab-136">Dadurch kann die Variable von der Hauptebene aus festgelegt werden.</span><span class="sxs-lookup"><span data-stu-id="348ab-136">This will allow the variable to be set from the Main Level.</span></span> 

![Erstellen einer Variablen](images/unreal-uxt/5-var.PNG)

4.  <span data-ttu-id="348ab-138">Ziehen Sie die Variable „WhiteKing“ aus **My Blueprint > Variables** („Meine Blaupause“ > „Variablen“) auf das Ereignisdiagramm für die Schaltfläche „Zurücksetzen“.</span><span class="sxs-lookup"><span data-stu-id="348ab-138">Drag the WhiteKing variable from **My Blueprint > Variables** onto the Reset Button Event Graph.</span></span> <span data-ttu-id="348ab-139">Wählen Sie **Get WhiteKing** („WhiteKing“ abrufen) aus.</span><span class="sxs-lookup"><span data-stu-id="348ab-139">Choose **Get WhiteKing**.</span></span> 

5.  <span data-ttu-id="348ab-140">Ziehen Sie den Ausgabepin von „WhiteKing“, und lassen Sie ihn los, um einen neuen Knoten zu platzieren.</span><span class="sxs-lookup"><span data-stu-id="348ab-140">Drag the WhiteKing output pin and release to place a new node.</span></span> <span data-ttu-id="348ab-141">Wählen Sie die Funktion **Reset Location** (Position zurücksetzen) aus.</span><span class="sxs-lookup"><span data-stu-id="348ab-141">Select the **Reset Location** function.</span></span> <span data-ttu-id="348ab-142">Ziehen Sie abschließend den ausgehenden Ausführungspin von **On Button Pressed** (Beim Drücken des Schalters) zum eingehenden Ausführungspin von **Reset Location** (Position zurücksetzen).</span><span class="sxs-lookup"><span data-stu-id="348ab-142">Finally, drag the outgoing execution pin from **On Button Pressed** to the incoming execution pin on **Reset Location**.</span></span> <span data-ttu-id="348ab-143">**Kompilieren** und **speichern** Sie die Blaupause „ResetButton“, und kehren Sie anschließend zum Hauptfenster zurück.</span><span class="sxs-lookup"><span data-stu-id="348ab-143">**Compile** and **Save** the ResetButton Blueprint, then return to the Main window.</span></span> 

![Aufrufen der Funktion zum Zurücksetzen der Position über „On Button Pressed“ (Beim Drücken des Schalters)](images/unreal-uxt/5-callresetloc.PNG)

6.  <span data-ttu-id="348ab-145">Ziehen Sie **ResetButton** in den Viewport, und legen Sie die Position auf „X = 50“, „Y = -25“ und „Z = 10“ fest.</span><span class="sxs-lookup"><span data-stu-id="348ab-145">Drag **ResetButton** into the viewport and set its location to X = 50, Y = -25, Z = 10.</span></span> <span data-ttu-id="348ab-146">Legen Sie unter **Default** (Standard) den Wert der Variablen „WhiteKing“ auf **WhiteKing** fest.</span><span class="sxs-lookup"><span data-stu-id="348ab-146">Under **Default**, set the value of the WhiteKing variable to **WhiteKing**.</span></span>

![Festlegen der Variablen](images/unreal-uxt/5-buttonlevel.PNG)

<span data-ttu-id="348ab-148">Sie verfügen nun über eine Mixed Reality-App mit einer greifbaren Schachfigur und einem greifbaren Schachbrett sowie mit einem funktionsfähigen Schalter, der gedrückt werden kann, um die Position der Schachfigur zurückzusetzen.</span><span class="sxs-lookup"><span data-stu-id="348ab-148">You now have a mixed reality app with a grabbable chess piece and board, as well as a fully functioning button that will reset the piece’s location when pressed.</span></span> <span data-ttu-id="348ab-149">Die bis hierhin fertige App steht auf [GitHub](https://github.com/microsoft/MixedReality-Unreal-Samples/tree/master/ChessApp) zur Verfügung.</span><span class="sxs-lookup"><span data-stu-id="348ab-149">The completed app up to this point can be found on [GitHub](https://github.com/microsoft/MixedReality-Unreal-Samples/tree/master/ChessApp).</span></span> <span data-ttu-id="348ab-150">Sie können gerne noch einen Schritt weitergehen und die restlichen Schachfiguren einrichten, sodass das gesamte Schachbrett zurückgesetzt wird, wenn der Benutzer auf die Taste drückt.</span><span class="sxs-lookup"><span data-stu-id="348ab-150">Feel free to go beyond this tutorial and set up the remainder of the chess pieces, so that the entire board is reset when the user presses the button.</span></span>

![Fertige Szene im Viewport](images/unreal-uxt/5-endscene.PNG)

[<span data-ttu-id="348ab-152">Nächster Abschnitt: 6. Verpacken und Bereitstellen auf einem Gerät oder Emulator</span><span class="sxs-lookup"><span data-stu-id="348ab-152">Next Section: 6. Packaging & deploying to device or emulator</span></span>](unreal-uxt-ch6.md)
